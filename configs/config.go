/*
 *  Copyright 2018 KardiaChain
 *  This file is part of the go-kardia library.
 *
 *  The go-kardia library is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU Lesser General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  The go-kardia library is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 *  GNU Lesser General Public License for more details.
 *
 *  You should have received a copy of the GNU Lesser General Public License
 *  along with the go-kardia library. If not, see <http://www.gnu.org/licenses/>.
 */

package configs

import (
	"fmt"
	"math/big"
	"time"

	"github.com/kardiachain/go-kardia/lib/common"
	"math"
	"strings"
)

// TODO(huny): Get the proper genesis hash for Kardia when ready
// Genesis hashes to enforce below configs on.
var (
	MainnetGenesisHash = common.HexToHash("0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3")
	TestnetGenesisHash = common.HexToHash("0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d")
)

var (
	EthDualChainID = uint64(2)
	NeoDualChainID = uint64(3)
	DefaultChainID = uint64(1)
)

var (
	// MainnetChainConfig is the chain parameters to run a node on the main network.
	MainnetChainConfig = &ChainConfig{
		Kaicon: &KaiconConfig{
			Period: 15,
			Epoch:  30000,
		},
	}

	// TestnetChainConfig contains the chain parameters to run a node on the test network.
	TestnetChainConfig = &ChainConfig{
		Kaicon: &KaiconConfig{
			Period: 15,
			Epoch:  30000,
		},
	}

	// TestChainConfig contains the chain parameters to run unit test.
	TestChainConfig = &ChainConfig{
		Kaicon: &KaiconConfig{
			Period: 15,
			Epoch:  30000,
		},
	}
)

// ChainConfig is the core config which determines the blockchain settings.
//
// ChainConfig is stored in the database on a per block basis. This means
// that any network, identified by its genesis block, can have its own
// set of configuration options.
type ChainConfig struct {
	// Various consensus engines
	Kaicon *KaiconConfig `json:"kaicon,omitempty"`
}

// KaiconConfig is the consensus engine configs for Kardia BFT DPoS.
type KaiconConfig struct {
	// TODO(huny): implement this
	Period uint64 `json:"period"` // Number of seconds between blocks to enforce
	Epoch  uint64 `json:"epoch"`  // Epoch length to reset votes and checkpoint
}

// String implements the stringer interface, returning the consensus engine details.
func (c *KaiconConfig) String() string {
	return "kaicon"
}

// String implements the fmt.Stringer interface.
func (c *ChainConfig) String() string {
	var engine interface{}
	switch {
	case c.Kaicon != nil:
		engine = c.Kaicon
	default:
		engine = "unknown"
	}
	return fmt.Sprintf("{Engine: %v}",
		engine,
	)
}

// GasTable organizes gas prices for different Kardia operations.
type GasTable struct {
	ExtcodeSize uint64
	ExtcodeCopy uint64
	Balance     uint64
	SLoad       uint64
	Calls       uint64
	Suicide     uint64

	ExpByte uint64

	// CreateBySuicide occurs when the
	// refunded account is one that does
	// not exist. This logic is similar
	// to call. May be left nil. Nil means
	// not charged.
	CreateBySuicide uint64
}

// Variables containing gas prices for different ethereum phases.
var (
	// GasTableV0 contain the gas prices for the initial phase.
	GasTableV0 = GasTable{
		ExtcodeSize: 700,
		ExtcodeCopy: 700,
		Balance:     400,
		SLoad:       200,
		Calls:       700,
		Suicide:     5000,
		ExpByte:     50,

		CreateBySuicide: 25000,
	}
)

func configNumEqual(x, y *big.Int) bool {
	if x == nil {
		return y == nil
	}
	if y == nil {
		return x == nil
	}
	return x.Cmp(y) == 0
}

// -------- Consensus Config ---------

// ConsensusConfig defines the configuration for the Kardia consensus service,
// including timeouts and details about the block structure.
type ConsensusConfig struct {
	// All timeouts are in milliseconds
	TimeoutPropose        int `mapstructure:"timeout_propose"`
	TimeoutProposeDelta   int `mapstructure:"timeout_propose_delta"`
	TimeoutPrevote        int `mapstructure:"timeout_prevote"`
	TimeoutPrevoteDelta   int `mapstructure:"timeout_prevote_delta"`
	TimeoutPrecommit      int `mapstructure:"timeout_precommit"`
	TimeoutPrecommitDelta int `mapstructure:"timeout_precommit_delta"`
	TimeoutCommit         int `mapstructure:"timeout_commit"`

	// Make progress as soon as we have all the precommits (as if TimeoutCommit = 0)
	SkipTimeoutCommit bool `mapstructure:"skip_timeout_commit"`

	// EmptyBlocks mode and possible interval between empty blocks in seconds
	CreateEmptyBlocks         bool `mapstructure:"create_empty_blocks"`
	CreateEmptyBlocksInterval int  `mapstructure:"create_empty_blocks_interval"`

	// Reactor sleep duration parameters are in milliseconds
	PeerGossipSleepDuration     int `mapstructure:"peer_gossip_sleep_duration"`
	PeerQueryMaj23SleepDuration int `mapstructure:"peer_query_maj23_sleep_duration"`
}

// DefaultConsensusConfig returns a default configuration for the consensus service
func DefaultConsensusConfig() *ConsensusConfig {
	return &ConsensusConfig{
		TimeoutPropose:              5000,
		TimeoutProposeDelta:         500,
		TimeoutPrevote:              1000,
		TimeoutPrevoteDelta:         500,
		TimeoutPrecommit:            1000,
		TimeoutPrecommitDelta:       500,
		TimeoutCommit:               1000,
		SkipTimeoutCommit:           false,
		CreateEmptyBlocks:           true,
		CreateEmptyBlocksInterval:   0,
		PeerGossipSleepDuration:     3000,
		PeerQueryMaj23SleepDuration: 2000,
	}
}

// Commit returns the amount of time to wait for straggler votes after receiving +2/3 precommits for a single block (ie. a commit).
func (cfg *ConsensusConfig) Commit(t time.Time) time.Time {
	return t.Add(time.Duration(cfg.TimeoutCommit) * time.Millisecond)
}

// Propose returns the amount of time to wait for a proposal
func (cfg *ConsensusConfig) Propose(round int) time.Duration {
	return time.Duration(cfg.TimeoutPropose+cfg.TimeoutProposeDelta*round) * time.Millisecond
}

// Prevote returns the amount of time to wait for straggler votes after receiving any +2/3 prevotes
func (cfg *ConsensusConfig) Prevote(round int) time.Duration {
	return time.Duration(cfg.TimeoutPrevote+cfg.TimeoutPrevoteDelta*round) * time.Millisecond
}

// Precommit returns the amount of time to wait for straggler votes after receiving any +2/3 precommits
func (cfg *ConsensusConfig) Precommit(round int) time.Duration {
	return time.Duration(cfg.TimeoutPrecommit+cfg.TimeoutPrecommitDelta*round) * time.Millisecond
}

// PeerGossipSleep returns the amount of time to sleep if there is nothing to send from the ConsensusReactor
func (cfg *ConsensusConfig) PeerGossipSleep() time.Duration {
	return time.Duration(cfg.PeerGossipSleepDuration) * time.Millisecond
}

// PeerQueryMaj23Sleep returns the amount of time to sleep after each VoteSetMaj23Message is sent in the ConsensusReactor
func (cfg *ConsensusConfig) PeerQueryMaj23Sleep() time.Duration {
	return time.Duration(cfg.PeerQueryMaj23SleepDuration) * time.Millisecond
}

// ======================= Genesis Const =======================

var initValue = int64(math.Pow10(15))

// GenesisAccounts are used to initialized accounts in genesis block
var GenesisAccounts = map[string]int64{
	// TODO(kiendn): These addresses are same of node address. Change to another set.
	"0xc1fe56E3F58D3244F606306611a5d10c8333f1f6": initValue,
	"0x7cefC13B6E2aedEeDFB7Cb6c32457240746BAEe5": initValue,
	"0xfF3dac4f04dDbD24dE5D6039F90596F0a8bb08fd": initValue,
	"0x071E8F5ddddd9f2D4B4Bdf8Fc970DFe8d9871c28": initValue,
	"0x94FD535AAB6C01302147Be7819D07817647f7B63": initValue,
	"0xa8073C95521a6Db54f4b5ca31a04773B093e9274": initValue,
	"0xe94517a4f6f45e80CbAaFfBb0b845F4c0FDD7547": initValue,
	"0xBA30505351c17F4c818d94a990eDeD95e166474b": initValue,
	"0x212a83C0D7Db5C526303f873D9CeaA32382b55D0": initValue,
	"0x8dB7cF1823fcfa6e9E2063F983b3B96A48EEd5a4": initValue,
	"0x8C10639F908FED884a04C5A49A2735AB726DDaB4": initValue,
	"0x2BB7316884C7568F2C6A6aDf2908667C0d241A66": initValue,
	// TODO(namdoh): Re-enable after parsing node index fixed in main.go
	//"0x36BE7365e6037bD0FDa455DC4d197B07A2002547": 100000000,
}

//  GenesisAddrKeys maps genesis account addresses to private keys.
var GenesisAddrKeys = map[string]string{
	"0xc1fe56E3F58D3244F606306611a5d10c8333f1f6": "8843ebcb1021b00ae9a644db6617f9c6d870e5fd53624cefe374c1d2d710fd06",
	"0x7cefC13B6E2aedEeDFB7Cb6c32457240746BAEe5": "77cfc693f7861a6e1ea817c593c04fbc9b63d4d3146c5753c008cfc67cffca79",
	"0xfF3dac4f04dDbD24dE5D6039F90596F0a8bb08fd": "98de1df1e242afb02bd5dc01fbcacddcc9a4d41df95a66f629139560ca6e4dbb",
	"0x071E8F5ddddd9f2D4B4Bdf8Fc970DFe8d9871c28": "32f5c0aef7f9172044a472478421c63fd8492640ff2d0eaab9562389db3a8efe",
	"0x94FD535AAB6C01302147Be7819D07817647f7B63": "68b53a92d846baafdc782cb9cad65d77020c8d747eca7b621370b52b18c91f9a",
	"0xa8073C95521a6Db54f4b5ca31a04773B093e9274": "049de018e08c3bcd59c1a21f0cf7de8f17fe51f8ce7d9c2120d17b1f0251b265",
	"0xe94517a4f6f45e80CbAaFfBb0b845F4c0FDD7547": "9fdd56a3c2a536dc8f981d935f0f3f2ea04e125547fdfffa37e157ce86ff1007",
	"0xBA30505351c17F4c818d94a990eDeD95e166474b": "ae1a52546294bed6e734185775dbc84009de00bdf51b709471e2415c31ceeed7",
	"0x212a83C0D7Db5C526303f873D9CeaA32382b55D0": "b34bd81838a4a335fb3403d0bf616eca1eb9a4b4716c7dda7c617503cfeaab67",
	"0x8dB7cF1823fcfa6e9E2063F983b3B96A48EEd5a4": "0cf7ae0332a891044659ace49a0732fa07c2872b4aef479945501f385a23e689",
	"0x8C10639F908FED884a04C5A49A2735AB726DDaB4": "9813a1dffe303131d1fe80b6fe872206267abd8ff84a52c907b0d32df582b1eb",
	"0x2BB7316884C7568F2C6A6aDf2908667C0d241A66": "4561f7d91a4f95ef0a72550fa423febaad3594f91611f9a2b10a7af4d3deb9ed",
	// TODO(namdoh): Re-enable after parsing node index fixed in main.go
	//"e049a09c992c882bc2deb780323a247c6ee0951f8b4c5c1dd0fc2fc22ce6493d": "0x36BE7365e6037bD0FDa455DC4d197B07A2002547",
}

const (
	MockSmartContractCallSenderAccount    = "0x7cefC13B6E2aedEeDFB7Cb6c32457240746BAEe5"
	MockSmartContractCallSenderPrivateKey = "77cfc693f7861a6e1ea817c593c04fbc9b63d4d3146c5753c008cfc67cffca79"
)

var GenesisContractAddress = []string{
	"0x00000000000000000000000000000000736D6332",
	"0x00000000000000000000000000000000736D6331",
	"0x00000000000000000000000000000000736D6333",
	"0x00000000000000000000000000000000736D6339",
	"0x00000000000000000000000000000000736D6336",
	"0x00000000000000000000000000000000736D6337",
	"0x00000000000000000000000000000000736D6338",
}

// GenesisContract are used to initialize contract in genesis block
var GenesisContracts = map[string]string{
	//"0x00000000000000000000000000000000736d6331": "60806040526004361060485763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166324b8ba5f8114604d5780636d4ce63c146067575b600080fd5b348015605857600080fd5b50606560ff60043516608f565b005b348015607257600080fd5b50607960a5565b6040805160ff9092168252519081900360200190f35b6000805460ff191660ff92909216919091179055565b60005460ff16905600a165627a7a723058206cc1a54f543612d04d3f16b0bbb49e9ded9ccf6d47f7789fe3577260346ed44d0029",
	// Simple voting contract bytecode in genesis block, source code in kvm/smc/Ballot.sol
	"0x00000000000000000000000000000000736D6332": "608060405260043610610057576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063124474a71461005c578063609ff1bd146100a0578063b3f98adc146100d1575b600080fd5b34801561006857600080fd5b5061008a600480360381019080803560ff169060200190929190505050610101565b6040518082815260200191505060405180910390f35b3480156100ac57600080fd5b506100b5610138565b604051808260ff1660ff16815260200191505060405180910390f35b3480156100dd57600080fd5b506100ff600480360381019080803560ff16906020019092919050505061019e565b005b600060048260ff161015156101195760009050610133565b60018260ff1660048110151561012b57fe5b016000015490505b919050565b6000806000809150600090505b60048160ff161015610199578160018260ff1660048110151561016457fe5b0160000154111561018c5760018160ff1660048110151561018157fe5b016000015491508092505b8080600101915050610145565b505090565b60008060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508060000160009054906101000a900460ff1680610201575060048260ff1610155b1561020b5761026a565b60018160000160006101000a81548160ff021916908315150217905550818160000160016101000a81548160ff021916908360ff1602179055506001808360ff1660048110151561025857fe5b01600001600082825401925050819055505b50505600a165627a7a72305820c93a970449b32fe53b59e0ed7cfeda5d52acafd2d1bdd3f2f67093f076acf1c60029",
	// Counter contract bytecode in genesis block, source code in kvm/smc/SimpleCounter.sol
	"0x00000000000000000000000000000000736D6331": "6080604052600436106049576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806324b8ba5f14604e5780636d4ce63c14607b575b600080fd5b348015605957600080fd5b506079600480360381019080803560ff16906020019092919050505060a9565b005b348015608657600080fd5b50608d60c6565b604051808260ff1660ff16815260200191505060405180910390f35b806000806101000a81548160ff021916908360ff16021790555050565b60008060009054906101000a900460ff169050905600a165627a7a7230582083f88bef40b78ed8ab5f620a7a1fb7953640a541335c5c352ff0877be0ecd0c60029",
	// Exchange master contract bytecode in genesis block, source code in kvm.smc/Exchange.sol
	"0x00000000000000000000000000000000736D6333": "60806040526004361061008d5763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630a0306b18114610092578063323a9243146100b95780633c3c9c23146100d357806344af18e8146100e8578063613d03af146101005780636e63987d1461011557806386dca3341461012d578063fa8513de14610145575b600080fd5b34801561009e57600080fd5b506100a761015a565b60408051918252519081900360200190f35b3480156100c557600080fd5b506100d1600435610179565b005b3480156100df57600080fd5b506100a7610194565b3480156100f457600080fd5b506100d160043561019a565b34801561010c57600080fd5b506100a76101b5565b34801561012157600080fd5b506100d16004356101bb565b34801561013957600080fd5b506100d16004356101c6565b34801561015157600080fd5b506100a76101d1565b600060015460005411156101715750600154610176565b506000545b90565b60015481111561018857600080fd5b60018054919091039055565b60005481565b6000548111156101a957600080fd5b60008054919091039055565b60015481565b600180549091019055565b600080549091019055565b6000805460015411156101e75750600054610176565b50600154905600a165627a7a723058203f7b9ba72392daf2bb6f8a91c0d4a8a3dcd58decc81ffc4fd90951f41cb9490c0029",
	// New exchange master contract bytecode in genesis block allows order book and partial matching, source code in kvm.smc/ExchangeV2.sol
	"0x00000000000000000000000000000000736D6339": "608060405260043610610099576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680631112f8361461009e5780631d2169621461022957806342e116351461030b5780637fb06000146103c95780638e4a24041461044d578063955982b8146104ca57806399a1523f14610623578063aab991d31461074b578063fa57983d14610873575b600080fd5b3480156100aa57600080fd5b50610227600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929080359060200190929190505050610955565b005b34801561023557600080fd5b50610290600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611093565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156102d05780820151818401526020810190506102b5565b50505050905090810190601f1680156102fd5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561031757600080fd5b50610372600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611a08565b6040518080602001828103825283818151815260200191508051906020019060200280838360005b838110156103b557808201518184015260208101905061039a565b505050509050019250505060405180910390f35b3480156103d557600080fd5b50610430600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611c5e565b604051808381526020018281526020019250505060405180910390f35b34801561045957600080fd5b506104c8600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192908035906020019092919080359060200190929190505050611d48565b005b3480156104d657600080fd5b5061060d600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929080359060200190929190505050611de4565b6040518082815260200191505060405180910390f35b34801561062f57600080fd5b506106d0600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929050505061289d565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156107105780820151818401526020810190506106f5565b50505050905090810190601f16801561073d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561075757600080fd5b506107f8600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506130a2565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561083857808201518184015260208101905061081d565b50505050905090810190601f1680156108655780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561087f57600080fd5b506108da600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050613c54565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561091a5780820151818401526020810190506108ff565b50505050905090810190601f1680156109475780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61095d6155b8565b600080600061096a6155d2565b60006109758c6145c9565b95506001886040518082805190602001908083835b6020831015156109af578051825260208201915060208101905060208303925061098a565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060080160009054906101000a900460ff16156109fd57611085565b600086602001511480610a14575060008660000151145b15610a1e57611085565b856000015186602001518802811515610a3357fe5b049450610120604051908101604052808d81526020018b81526020018a815260200189815260200188815260200186815260200188815260200160008152602001600115158152509150600060028c6040518082805190602001908083835b602083101515610ab75780518252602082019150602081019050602083039250610a92565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805490501115610c8157610c4d888d8d60028f6040518082805190602001908083835b602083101515610b325780518252602082019150602081019050602083039250610b0d565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b82821015610c41578382906000526020600020018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610c2d5780601f10610c0257610100808354040283529160200191610c2d565b820191906000526020600020905b815481529060010190602001808311610c1057829003601f168201915b505050505081526020019060010190610b85565b505050508a8a8f614662565b80945081955050506000831115610c8057856020015186600001518402811515610c7357fe5b0487038260c00181815250505b5b600090505b8380549050811015610e08576000886040518082805190602001908083835b602083101515610cca5780518252602082019150602081019050602083039250610ca5565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390208482815481101515610d0b57fe5b90600052602060002090600602019080600181540180825580915050906001820390600052602060002090600602016000909192909190915060008201816000019080546001816001161561010002031660029004610d6b929190615621565b5060018201816001019080546001816001161561010002031660029004610d93929190615621565b5060028201816002019080546001816001161561010002031660029004610dbb929190615621565b5060038201816003019080546001816001161561010002031660029004610de3929190615621565b5060048201548160040155600582015481600501555050508080600101915050610c86565b816001896040518082805190602001908083835b602083101515610e415780518252602082019150602081019050602083039250610e1c565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206000820151816000019080519060200190610e909291906156a8565b506020820151816001019080519060200190610ead9291906156a8565b506040820151816002019080519060200190610eca9291906156a8565b506060820151816003019080519060200190610ee79291906156a8565b506080820151816004015560a0820151816005015560c0820151816006015560e082015181600701556101008201518160080160006101000a81548160ff02191690831515021790555090505060028c6040518082805190602001908083835b602083101515610f6c5780518252602082019150602081019050602083039250610f47565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020889080600181540180825580915050906001820390600052602060002001600090919290919091509080519060200190610fda929190615728565b505060048a6040518082805190602001908083835b6020831015156110145780518252602082019150602081019050602083039250610fef565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020889080600181540180825580915050906001820390600052602060002001600090919290919091509080519060200190611082929190615728565b50505b505050505050505050505050565b6060806000606060006002866040518082805190602001908083835b6020831015156110d457805182526020820191506020810190506020830392506110af565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b828210156111e3578382906000526020600020018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156111cf5780601f106111a4576101008083540402835291602001916111cf565b820191906000526020600020905b8154815290600101906020018083116111b257829003601f168201915b505050505081526020019060010190611127565b50505050935083519250600083141561120e57602060405190810160405280600081525094506119ff565b60206040519081016040528060008152509150600090505b828110156119fb5760008114156115a0576115996001858381518110151561124a57fe5b906020019060200201516040518082805190602001908083835b6020831015156112895780518252602082019150602081019050602083039250611264565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206101206040519081016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156113625780601f1061133757610100808354040283529160200191611362565b820191906000526020600020905b81548152906001019060200180831161134557829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156114045780601f106113d957610100808354040283529160200191611404565b820191906000526020600020905b8154815290600101906020018083116113e757829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156114a65780601f1061147b576101008083540402835291602001916114a6565b820191906000526020600020905b81548152906001019060200180831161148957829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156115485780601f1061151d57610100808354040283529160200191611548565b820191906000526020600020905b81548152906001019060200180831161152b57829003601f168201915b50505050508152602001600482015481526020016005820154815260200160068201548152602001600782015481526020016008820160009054906101000a900460ff161515151581525050614ce1565b91506119ee565b81611903600186848151811015156115b457fe5b906020019060200201516040518082805190602001908083835b6020831015156115f357805182526020820191506020810190506020830392506115ce565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206101206040519081016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156116cc5780601f106116a1576101008083540402835291602001916116cc565b820191906000526020600020905b8154815290600101906020018083116116af57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561176e5780601f106117435761010080835404028352916020019161176e565b820191906000526020600020905b81548152906001019060200180831161175157829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156118105780601f106117e557610100808354040283529160200191611810565b820191906000526020600020905b8154815290600101906020018083116117f357829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156118b25780601f10611887576101008083540402835291602001916118b2565b820191906000526020600020905b81548152906001019060200180831161189557829003601f168201915b50505050508152602001600482015481526020016005820154815260200160068201548152602001600782015481526020016008820160009054906101000a900460ff161515151581525050614ce1565b6040516020018083805190602001908083835b60208310151561193b5780518252602082019150602081019050602083039250611916565b6001836020036101000a038019825116818451168082178552505050505050905001807f7c0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b6020831015156119b65780518252602082019150602081019050602083039250611991565b6001836020036101000a0380198251168184511680821785525050505050509050019250505060405160208183030381529060405291505b8080600101915050611226565b8194505b50505050919050565b60608060006002846040518082805190602001908083835b602083101515611a455780518252602082019150602081019050602083039250611a20565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b82821015611b54578382906000526020600020018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611b405780601f10611b1557610100808354040283529160200191611b40565b820191906000526020600020905b815481529060010190602001808311611b2357829003601f168201915b505050505081526020019060010190611a98565b505050509150600a604051908082528060200260200182016040528015611b8a5781602001602082028038833980820191505090505b509250600090505b8151811015611c5457600a811015611c475760018282815181101515611bb457fe5b906020019060200201516040518082805190602001908083835b602083101515611bf35780518252602082019150602081019050602083039250611bce565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600501548382815181101515611c3857fe5b90602001906020020181815250505b8080600101915050611b92565b8292505050919050565b6000806003836040518082805190602001908083835b602083101515611c995780518252602082019150602081019050602083039250611c74565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600001546003846040518082805190602001908083835b602083101515611d085780518252602082019150602081019050602083039250611ce3565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206001015491509150915091565b6040805190810160405280838152602001828152506003846040518082805190602001908083835b602083101515611d955780518252602082019150602081019050602083039250611d70565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206000820151816000015560208201518160010155905050505050565b6000806000806000808a6040518082805190602001908083835b602083101515611e235780518252602082019150602081019050602083039250611dfe565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390209350600084805490501415611e6e5760009450612890565b600092505b838054905083101561288f578383815481101515611e8d57fe5b90600052602060002090600602016001016040516020018082805460018160011615610100020316600290048015611efc5780601f10611eda576101008083540402835291820191611efc565b820191906000526020600020905b815481529060010190602001808311611ee8575b50509150506040516020818303038152906040526040518082805190602001908083835b602083101515611f455780518252602082019150602081019050602083039250611f20565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916886040516020018082805190602001908083835b602083101515611faf5780518252602082019150602081019050602083039250611f8a565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156120185780518252602082019150602081019050602083039250611ff3565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191614801561221d5750838381548110151561205f57fe5b906000526020600020906006020160020160405160200180828054600181600116156101000203166002900480156120ce5780601f106120ac5761010080835404028352918201916120ce565b820191906000526020600020905b8154815290600101906020018083116120ba575b50509150506040516020818303038152906040526040518082805190602001908083835b60208310151561211757805182526020820191506020810190506020830392506120f2565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916876040516020018082805190602001908083835b602083101515612181578051825260208201915060208101905060208303925061215c565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156121ea57805182526020820191506020810190506020830392506121c5565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916145b80156122475750838381548110151561223257fe5b90600052602060002090600602016004015486145b156128825788848481548110151561225b57fe5b9060005260206000209060060201600301908051906020019061227f929190615728565b506001848481548110151561229057fe5b90600052602060002090600602016005018190555083838154811015156122b357fe5b906000526020600020906006020160000191506000808360405180828054600181600116156101000203166002900480156123255780601f10612303576101008083540402835291820191612325565b820191906000526020600020905b815481529060010190602001808311612311575b5050915050908152602001604051809103902080549050111561288157600090505b60008260405180828054600181600116156101000203166002900480156123a55780601f106123835761010080835404028352918201916123a5565b820191906000526020600020905b815481529060010190602001808311612391575b505091505090815260200160405180910390208054905081101561288057866040516020018082805190602001908083835b6020831015156123fc57805182526020820191506020810190506020830392506123d7565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156124655780518252602082019150602081019050602083039250612440565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660008360405180828054600181600116156101000203166002900480156124f45780601f106124d25761010080835404028352918201916124f4565b820191906000526020600020905b8154815290600101906020018083116124e0575b505091505090815260200160405180910390208281548110151561251457fe5b906000526020600020906006020160020160405160200180828054600181600116156101000203166002900480156125835780601f10612561576101008083540402835291820191612583565b820191906000526020600020905b81548152906001019060200180831161256f575b50509150506040516020818303038152906040526040518082805190602001908083835b6020831015156125cc57805182526020820191506020810190506020830392506125a7565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191614801561269857508560008360405180828054600181600116156101000203166002900480156126645780601f10612642576101008083540402835291820191612664565b820191906000526020600020905b815481529060010190602001808311612650575b505091505090815260200160405180910390208281548110151561268457fe5b906000526020600020906006020160040154145b801561273257506000808360405180828054600181600116156101000203166002900480156126fe5780601f106126dc5761010080835404028352918201916126fe565b820191906000526020600020905b8154815290600101906020018083116126ea575b505091505090815260200160405180910390208281548110151561271e57fe5b906000526020600020906006020160050154145b15612873578860008360405180828054600181600116156101000203166002900480156127965780601f10612774576101008083540402835291820191612796565b820191906000526020600020905b815481529060010190602001808311612782575b5050915050908152602001604051809103902060008154811015156127b757fe5b906000526020600020906006020160030190805190602001906127db929190615728565b506001600083604051808280546001816001161561010002031660029004801561283c5780601f1061281a57610100808354040283529182019161283c565b820191906000526020600020905b815481529060010190602001808311612828575b50509150509081526020016040518091039020600081548110151561285d57fe5b9060005260206000209060060201600501819055505b8080600101915050612347565b5b5b8280600101935050611e73565b5b5050505095945050505050565b606080600080856040518082805190602001908083835b6020831015156128d957805182526020820191506020810190506020830392506128b4565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b82821015612bfb578382906000526020600020906006020160c06040519081016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156129e95780601f106129be576101008083540402835291602001916129e9565b820191906000526020600020905b8154815290600101906020018083116129cc57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015612a8b5780601f10612a6057610100808354040283529160200191612a8b565b820191906000526020600020905b815481529060010190602001808311612a6e57829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015612b2d5780601f10612b0257610100808354040283529160200191612b2d565b820191906000526020600020905b815481529060010190602001808311612b1057829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015612bcf5780601f10612ba457610100808354040283529160200191612bcf565b820191906000526020600020905b815481529060010190602001808311612bb257829003601f168201915b50505050508152602001600482015481526020016005820154815250508152602001906001019061292c565b505050509150600082511415612c26576020604051908101604052806000815250925082925061309a565b600090505b815181101561309657836040516020018082805190602001908083835b602083101515612c6d5780518252602082019150602081019050602083039250612c48565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515612cd65780518252602082019150602081019050602083039250612cb1565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019168282815181101515612d1557fe5b90602001906020020151602001516040516020018082805190602001908083835b602083101515612d5b5780518252602082019150602081019050602083039250612d36565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515612dc45780518252602082019150602081019050602083039250612d9f565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019161415613089576040516020018060000190506040516020818303038152906040526040518082805190602001908083835b602083101515612e4b5780518252602082019150602081019050602083039250612e26565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916836040516020018082805190602001908083835b602083101515612eb55780518252602082019150602081019050602083039250612e90565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515612f1e5780518252602082019150602081019050602083039250612ef9565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019161415612f7c57612f758282815181101515612f6657fe5b90602001906020020151615147565b9250613088565b82612f9d8383815181101515612f8e57fe5b90602001906020020151615147565b6040516020018083805190602001908083835b602083101515612fd55780518252602082019150602081019050602083039250612fb0565b6001836020036101000a038019825116818451168082178552505050505050905001807f7c0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b602083101515613050578051825260208201915060208101905060208303925061302b565b6001836020036101000a0380198251168184511680821785525050505050509050019250505060405160208183030381529060405292505b5b8080600101915050612c2b565b8292505b505092915050565b606080600060606000806004886040518082805190602001908083835b6020831015156130e457805182526020820191506020810190506020830392506130bf565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b828210156131f3578382906000526020600020018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156131df5780601f106131b4576101008083540402835291602001916131df565b820191906000526020600020905b8154815290600101906020018083116131c257829003601f168201915b505050505081526020019060010190613137565b50505050945084519350600084141561321e5760206040519081016040528060008152509550613c49565b60206040519081016040528060008152509250866040516020018082805190602001908083835b60208310151561326a5780518252602082019150602081019050602083039250613245565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156132d357805182526020820191506020810190506020830392506132ae565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390209150600090505b83811015613c455781600019166001868381518110151561332457fe5b906020019060200201516040518082805190602001908083835b602083101515613363578051825260208201915060208101905060208303925061333e565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060000160405160200180828054600181600116156101000203166002900480156133f75780601f106133d55761010080835404028352918201916133f7565b820191906000526020600020905b8154815290600101906020018083116133e3575b50509150506040516020818303038152906040526040518082805190602001908083835b602083101515613440578051825260208201915060208101905060208303925061341b565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019161415613c385760008114156137e9576137e26001868381518110151561349357fe5b906020019060200201516040518082805190602001908083835b6020831015156134d257805182526020820191506020810190506020830392506134ad565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206101206040519081016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156135ab5780601f10613580576101008083540402835291602001916135ab565b820191906000526020600020905b81548152906001019060200180831161358e57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561364d5780601f106136225761010080835404028352916020019161364d565b820191906000526020600020905b81548152906001019060200180831161363057829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156136ef5780601f106136c4576101008083540402835291602001916136ef565b820191906000526020600020905b8154815290600101906020018083116136d257829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156137915780601f1061376657610100808354040283529160200191613791565b820191906000526020600020905b81548152906001019060200180831161377457829003601f168201915b50505050508152602001600482015481526020016005820154815260200160068201548152602001600782015481526020016008820160009054906101000a900460ff161515151581525050614ce1565b9250613c37565b82613b4c600187848151811015156137fd57fe5b906020019060200201516040518082805190602001908083835b60208310151561383c5780518252602082019150602081019050602083039250613817565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206101206040519081016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156139155780601f106138ea57610100808354040283529160200191613915565b820191906000526020600020905b8154815290600101906020018083116138f857829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156139b75780601f1061398c576101008083540402835291602001916139b7565b820191906000526020600020905b81548152906001019060200180831161399a57829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015613a595780601f10613a2e57610100808354040283529160200191613a59565b820191906000526020600020905b815481529060010190602001808311613a3c57829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015613afb5780601f10613ad057610100808354040283529160200191613afb565b820191906000526020600020905b815481529060010190602001808311613ade57829003601f168201915b50505050508152602001600482015481526020016005820154815260200160068201548152602001600782015481526020016008820160009054906101000a900460ff161515151581525050614ce1565b6040516020018083805190602001908083835b602083101515613b845780518252602082019150602081019050602083039250613b5f565b6001836020036101000a038019825116818451168082178552505050505050905001807f7c0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b602083101515613bff5780518252602082019150602081019050602083039250613bda565b6001836020036101000a0380198251168184511680821785525050505050509050019250505060405160208183030381529060405292505b5b8080600101915050613307565b8295505b505050505092915050565b6060806000606060006004866040518082805190602001908083835b602083101515613c955780518252602082019150602081019050602083039250613c70565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b82821015613da4578382906000526020600020018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015613d905780601f10613d6557610100808354040283529160200191613d90565b820191906000526020600020905b815481529060010190602001808311613d7357829003601f168201915b505050505081526020019060010190613ce8565b505050509350835192506000831415613dcf57602060405190810160405280600081525094506145c0565b60206040519081016040528060008152509150600090505b828110156145bc5760008114156141615761415a60018583815181101515613e0b57fe5b906020019060200201516040518082805190602001908083835b602083101515613e4a5780518252602082019150602081019050602083039250613e25565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206101206040519081016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015613f235780601f10613ef857610100808354040283529160200191613f23565b820191906000526020600020905b815481529060010190602001808311613f0657829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015613fc55780601f10613f9a57610100808354040283529160200191613fc5565b820191906000526020600020905b815481529060010190602001808311613fa857829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156140675780601f1061403c57610100808354040283529160200191614067565b820191906000526020600020905b81548152906001019060200180831161404a57829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156141095780601f106140de57610100808354040283529160200191614109565b820191906000526020600020905b8154815290600101906020018083116140ec57829003601f168201915b50505050508152602001600482015481526020016005820154815260200160068201548152602001600782015481526020016008820160009054906101000a900460ff161515151581525050614ce1565b91506145af565b816144c46001868481518110151561417557fe5b906020019060200201516040518082805190602001908083835b6020831015156141b4578051825260208201915060208101905060208303925061418f565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206101206040519081016040529081600082018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561428d5780601f106142625761010080835404028352916020019161428d565b820191906000526020600020905b81548152906001019060200180831161427057829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561432f5780601f106143045761010080835404028352916020019161432f565b820191906000526020600020905b81548152906001019060200180831161431257829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156143d15780601f106143a6576101008083540402835291602001916143d1565b820191906000526020600020905b8154815290600101906020018083116143b457829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156144735780601f1061444857610100808354040283529160200191614473565b820191906000526020600020905b81548152906001019060200180831161445657829003601f168201915b50505050508152602001600482015481526020016005820154815260200160068201548152602001600782015481526020016008820160009054906101000a900460ff161515151581525050614ce1565b6040516020018083805190602001908083835b6020831015156144fc57805182526020820191506020810190506020830392506144d7565b6001836020036101000a038019825116818451168082178552505050505050905001807f7c0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b6020831015156145775780518252602082019150602081019050602083039250614552565b6001836020036101000a0380198251168184511680821785525050505050509050019250505060405160208183030381529060405291505b8080600101915050613de7565b8194505b50505050919050565b6145d16155b8565b6003826040518082805190602001908083835b60208310151561460957805182526020820191506020810190506020830392506145e4565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020604080519081016040529081600082015481526020016001820154815250509050919050565b6000806000806146706157a8565b600061467a6157a8565b600094505b8a518510801561468e57508886105b15614cca5760018b868151811015156146a357fe5b906020019060200201516040518082805190602001908083835b6020831015156146e257805182526020820191506020810190506020830392506146bd565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060060154891161472557886147ac565b60018b8681518110151561473557fe5b906020019060200201516040518082805190602001908083835b602083101515614774578051825260208201915060208101905060208303925061474f565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600601545b935060c0604051908101604052808f81526020018e8152602001898152602001602060405190810160405280600081525081526020018581526020016000815250925086839080600181540180825580915050906001820390600052602060002090600602016000909192909190915060008201518160000190805190602001906148389291906156a8565b5060208201518160010190805190602001906148559291906156a8565b5060408201518160020190805190602001906148729291906156a8565b50606082015181600301908051906020019061488f9291906156a8565b506080820151816004015560a0820151816005015550505089602001518a6000015185028115156148bc57fe5b0491508360018c878151811015156148d057fe5b906020019060200201516040518082805190602001908083835b60208310151561490f57805182526020820191506020810190506020830392506148ea565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206006016000828254039250508190555060c0604051908101604052808c8781518110151561496c57fe5b9060200190602002015181526020018d815260200160018d8881518110151561499157fe5b906020019060200201516040518082805190602001908083835b6020831015156149d057805182526020820191506020810190506020830392506149ab565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206002018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015614a9a5780601f10614a6f57610100808354040283529160200191614a9a565b820191906000526020600020905b815481529060010190602001808311614a7d57829003601f168201915b50505050508152602001602060405190810160405280600081525081526020018381526020016000815250905060008b86815181101515614ad757fe5b906020019060200201516040518082805190602001908083835b602083101515614b165780518252602082019150602081019050602083039250614af1565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902081908060018154018082558091505090600182039060005260206000209060060201600090919290919091506000820151816000019080519060200190614b919291906156a8565b506020820151816001019080519060200190614bae9291906156a8565b506040820151816002019080519060200190614bcb9291906156a8565b506060820151816003019080519060200190614be89291906156a8565b506080820151816004015560a082015181600501555050508681908060018154018082558091505090600182039060005260206000209060060201600090919290919091506000820151816000019080519060200190614c499291906156a8565b506020820151816001019080519060200190614c669291906156a8565b506040820151816002019080519060200190614c839291906156a8565b506060820151816003019080519060200190614ca09291906156a8565b506080820151816004015560a082015181600501555050508386019550848060010195505061467f565b868696509650505050505097509795505050505050565b6060806060806060600086610100019015159081151581525015614d17576020604051908101604052806000815250945061513e565b614d248660800151615461565b9350614d338660a00151615461565b9250614d428660e00151615461565b9150614d518660c00151615461565b90508560000151866020015187604001518860600151878786886040516020018089805190602001908083835b602083101515614da35780518252602082019150602081019050602083039250614d7e565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010188805190602001908083835b602083101515614e1e5780518252602082019150602081019050602083039250614df9565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010187805190602001908083835b602083101515614e995780518252602082019150602081019050602083039250614e74565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010186805190602001908083835b602083101515614f145780518252602082019150602081019050602083039250614eef565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010185805190602001908083835b602083101515614f8f5780518252602082019150602081019050602083039250614f6a565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010184805190602001908083835b60208310151561500a5780518252602082019150602081019050602083039250614fe5565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010183805190602001908083835b6020831015156150855780518252602082019150602081019050602083039250615060565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b60208310151561510057805182526020820191506020810190506020830392506150db565b6001836020036101000a0380198251168184511680821785525050505050509050019850505050505050505060405160208183030381529060405294505b50505050919050565b60608060606151598460800151615461565b91506151688460a00151615461565b9050836000015184602001518560400151866060015185856040516020018087805190602001908083835b6020831015156151b85780518252602082019150602081019050602083039250615193565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010186805190602001908083835b602083101515615233578051825260208201915060208101905060208303925061520e565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010185805190602001908083835b6020831015156152ae5780518252602082019150602081019050602083039250615289565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010184805190602001908083835b6020831015156153295780518252602082019150602081019050602083039250615304565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010183805190602001908083835b6020831015156153a4578051825260208201915060208101905060208303925061537f565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b60208310151561541f57805182526020820191506020810190506020830392506153fa565b6001836020036101000a038019825116818451168082178552505050505050905001965050505050505060405160208183030381529060405292505050919050565b606060008060606000808614156154af576040805190810160405280600181526020017f300000000000000000000000000000000000000000000000000000000000000081525094506155af565b8593505b6000841415156154d9578280600101935050600a848115156154d157fe5b0493506154b3565b826040519080825280601f01601f19166020018201604052801561550c5781602001602082028038833980820191505090505b5091506001830390505b6000861415156155ab57600a8681151561552c57fe5b066030017f01000000000000000000000000000000000000000000000000000000000000000282828060019003935081518110151561556757fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a868115156155a357fe5b049550615516565b8194505b50505050919050565b604080519081016040528060008152602001600081525090565b6101206040519081016040528060608152602001606081526020016060815260200160608152602001600081526020016000815260200160008152602001600081526020016000151581525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061565a5780548555615697565b8280016001018555821561569757600052602060002091601f016020900482015b8281111561569657825482559160010191906001019061567b565b5b5090506156a491906157df565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106156e957805160ff1916838001178555615717565b82800160010185558215615717579182015b828111156157165782518255916020019190600101906156fb565b5b50905061572491906157df565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061576957805160ff1916838001178555615797565b82800160010185558215615797579182015b8281111561579657825182559160200191906001019061577b565b5b5090506157a491906157df565b5090565b60c0604051908101604052806060815260200160608152602001606081526020016060815260200160008152602001600081525090565b61580191905b808211156157fd5760008160009055506001016157e5565b5090565b905600a165627a7a723058200d05c391c9ad05db3cbacc49737099b011a9c4671238c1e1de012a034b221f0a0029",
	// Permission master contract bytecode in genesis block, source code in kvm/smc/Permission.sol
	"0x00000000000000000000000000000000736D6336": "608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806302f0697b1461007d57806331e51ad414610174578063430ae633146101fb5780634665cb0714610278578063813775a3146102f5578063d1b7623c14610418575b600080fd5b34801561008957600080fd5b5061015e600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919080359060200190929190803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929050505061056b565b6040518082815260200191505060405180910390f35b34801561018057600080fd5b506101e5600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001909291905050506106dc565b6040518082815260200191505060405180910390f35b34801561020757600080fd5b50610262600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610811565b6040518082815260200191505060405180910390f35b34801561028457600080fd5b506102df600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610944565b6040518082815260200191505060405180910390f35b34801561030157600080fd5b5061035c600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610adf565b604051808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200184815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b838110156103da5780820151818401526020810190506103bf565b50505050905090810190601f1680156104075780820380516001836020036101000a031916815260200191505b509550505050505060405180910390f35b34801561042457600080fd5b5061044360048036038101908080359060200190929190505050610e90565b60405180806020018673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001858152602001848152602001838103835288818151815260200191508051906020019080838360005b838110156104c55780820151818401526020810190506104aa565b50505050905090810190601f1680156104f25780820380516001836020036101000a031916815260200191505b50838103825286818151815260200191508051906020019080838360005b8381101561052b578082015181840152602081019050610510565b50505050905090810190601f1680156105585780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390f35b60006001151561057a33610f74565b151514151561058857600080fd5b60a0604051908101604052808673ffffffffffffffffffffffffffffffffffffffff168152602001848152602001858152602001600115158152602001838152506000876040518082805190602001908083835b60208310151561060157805182526020820191506020810190506020830392506105dc565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101556040820151816002015560608201518160030160006101000a81548160ff02191690831515021790555060808201518160040190805190602001906106cb929190612ab5565b509050506001905095945050505050565b60006106e88383611012565b156106f6576001905061080b565b600015156000846040518082805190602001908083835b602083101515610732578051825260208201915060208101905060208303925061070d565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060030160009054906101000a900460ff1615151415610787576000905061080b565b816000846040518082805190602001908083835b6020831015156107c0578051825260208201915060208101905060208303925061079b565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600201541415610806576001905061080b565b600090505b92915050565b600061081c82611045565b1561082a576001905061093f565b600015156000836040518082805190602001908083835b6020831015156108665780518252602082019150602081019050602083039250610841565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060030160009054906101000a900460ff16151514156108bb576000905061093f565b600080836040518082805190602001908083835b6020831015156108f457805182526020820191506020810190506020830392506108cf565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060010154141561093a576000905061093f565b600190505b919050565b60006001151561095333610f74565b151514151561096157600080fd5b601061096c83611070565b101561097b5760009050610ada565b600015156000836040518082805190602001908083835b6020831015156109b75780518252602082019150602081019050602083039250610992565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060030160009054906101000a900460ff1615151415610a0c5760009050610ada565b6000826040518082805190602001908083835b602083101515610a445780518252602082019150602081019050602083039250610a1f565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055600182016000905560028201600090556003820160006101000a81549060ff0219169055600482016000610ad39190612b35565b5050600190505b919050565b600080600060606000610af186611070565b90506010811015610b5457610b04611272565b81815181101515610b1157fe5b9060200190602002015160646001610b276118af565b84815181101515610b3457fe5b906020019060200201518292508191508090509450945094509450610e88565b600015156000876040518082805190602001908083835b602083101515610b905780518252602082019150602081019050602083039250610b6b565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060030160009054906101000a900460ff1615151415610c0857600080600082925081915080905060206040519081016040528060008152509450945094509450610e88565b6000866040518082805190602001908083835b602083101515610c405780518252602082019150602081019050602083039250610c1b565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000876040518082805190602001908083835b602083101515610ccf5780518252602082019150602081019050602083039250610caa565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600101546000886040518082805190602001908083835b602083101515610d3e5780518252602082019150602081019050602083039250610d19565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600201546000896040518082805190602001908083835b602083101515610dad5780518252602082019150602081019050602083039250610d88565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600401808054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610e785780601f10610e4d57610100808354040283529160200191610e78565b820191906000526020600020905b815481529060010190602001808311610e5b57829003601f168201915b5050505050905094509450945094505b509193509193565b6060600060606000806060601087101515610ee957600080600060206040519081016040528060008152509291908292506020604051908101604052806000815250919081915080905095509550955095509550610f6a565b610ef1611e11565b90508087815181101515610f0157fe5b90602001906020020151610f13611272565b88815181101515610f2057fe5b90602001906020020151610f326118af565b89815181101515610f3f57fe5b90602001906020020151610f51612aa3565b610f59612aac565b849450829250955095509550955095505b5091939590929450565b600060606000610f82611272565b9150600082511415610f97576000925061100b565b600090505b8151811015611006578373ffffffffffffffffffffffffffffffffffffffff168282815181101515610fca57fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff161415610ff9576001925061100b565b8080600101915050610f9c565b600092505b5050919050565b6000601061101f84611070565b10801561102c5750600182145b1561103a576001905061103f565b600090505b92915050565b60008061105183611070565b90506010811015611065576001915061106a565b600091505b50919050565b60006060600061107e611e11565b9150600090505b601081101561126657818181518110151561109c57fe5b906020019060200201516040516020018082805190602001908083835b6020831015156110de57805182526020820191506020810190506020830392506110b9565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156111475780518252602082019150602081019050602083039250611122565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916846040516020018082805190602001908083835b6020831015156111b1578051825260208201915060208101905060208303925061118c565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b60208310151561121a57805182526020820191506020810190506020830392506111f5565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191614156112595780925061126b565b8080600101915050611085565b601092505b5050919050565b60608060106040519080825280602002602001820160405280156112a55781602001602082028038833980820191505090505b50905073c1fe56e3f58d3244f606306611a5d10c8333f1f68160008151811015156112cc57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050737cefc13b6e2aedeedfb7cb6c32457240746baee581600181518110151561132c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073ff3dac4f04ddbd24de5d6039f90596f0a8bb08fd81600281518110151561138c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073071e8f5ddddd9f2d4b4bdf8fc970dfe8d9871c288160038151811015156113ec57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250507394fd535aab6c01302147be7819d07817647f7b6381600481518110151561144c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073a8073c95521a6db54f4b5ca31a04773b093e92748160058151811015156114ac57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073e94517a4f6f45e80cbaaffbb0b845f4c0fdd754781600681518110151561150c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073ba30505351c17f4c818d94a990eded95e166474b81600781518110151561156c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073212a83c0d7db5c526303f873d9ceaa32382b55d08160088151811015156115cc57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050738db7cf1823fcfa6e9e2063f983b3b96a48eed5a481600981518110151561162c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250507366bab3f68ff0822b7ba568a58a5cb619c4825ce581600a81518110151561168c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250507388e1b4289b639c3b7b97899be32627dcd3e81b7e81600b8151811015156116ec57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073ce61e95666737e46b2453717fe1ba0d9a85b9d3e81600c81518110151561174c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050731a5193e85ffa06fde42b2a2a6da7535ba510ae8c81600d8151811015156117ac57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073b19bc4477ff32ec13872a2a827782dea8b6e92c081600e81518110151561180c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050730fffa18f6c90ce3f02691dc5ec954495ea48304681600f81518110151561186c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250508091505090565b60608060106040519080825280602002602001820160405280156118e757816020015b60608152602001906001900390816118d25790505b5090506040805190810160405280600981526020017f5b3a3a5d3a33303030000000000000000000000000000000000000000000000081525081600081518110151561192f57fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303031000000000000000000000000000000000000000000000081525081600181518110151561198157fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a3330303200000000000000000000000000000000000000000000008152508160028151811015156119d357fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030330000000000000000000000000000000000000000000000815250816003815181101515611a2557fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030340000000000000000000000000000000000000000000000815250816004815181101515611a7757fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030350000000000000000000000000000000000000000000000815250816005815181101515611ac957fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030360000000000000000000000000000000000000000000000815250816006815181101515611b1b57fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030370000000000000000000000000000000000000000000000815250816007815181101515611b6d57fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030380000000000000000000000000000000000000000000000815250816008815181101515611bbf57fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030390000000000000000000000000000000000000000000000815250816009815181101515611c1157fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303130000000000000000000000000000000000000000000000081525081600a815181101515611c6357fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303131000000000000000000000000000000000000000000000081525081600b815181101515611cb557fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303132000000000000000000000000000000000000000000000081525081600c815181101515611d0757fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303133000000000000000000000000000000000000000000000081525081600d815181101515611d5957fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303134000000000000000000000000000000000000000000000081525081600e815181101515611dab57fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303135000000000000000000000000000000000000000000000081525081600f815181101515611dfd57fe5b906020019060200201819052508091505090565b6060806010604051908082528060200260200182016040528015611e4957816020015b6060815260200190600190039081611e345790505b50905060a060405190810160405280608081526020017f376138366532623736323863373666636165373661386233373032356362613681526020017f393861323839613434313032633563303231353934623563396663653333303781526020017f326565376566393932663565303138646334346239386661313166656335333881526020017f3234643739303135373437653861633437346634656531356237666265383630815250816000815181101515611f0457fe5b9060200190602002018190525060a060405190810160405280608081526020017f363630383839653339623337616465353866373839393333393534313233653581526020017f366436343938393836613063643963613633643232336538363664353532316181526020017f616564633965353239386532663438323861356339306634633538666232346581526020017f3139363133613436326361303231306464393632383231373934663633306630815250816001815181101515611fc957fe5b9060200190602002018190525060a060405190810160405280608081526020017f326536316635373230316563383034663964353239386334363635383434666481526020017f303737613235313663643333656363656134386637626466393364653531383281526020017f646134663537646337623464383837306535653239316331373963303566663081526020017f343130303731386234393138346636346137633064343063633636333433646181525081600281518110151561208e57fe5b9060200190602002018190525060a060405190810160405280608081526020017f666334316137316437613734643836363564626363306634386339613630316581526020017f333062373134656435303634373636396566353263303366373132336632616581526020017f303738646361613336333839653236333665313035356635663630666466333881526020017f643839613232366565383432333466303036623333336361643264326263656581525081600381518110151561215357fe5b9060200190602002018190525060a060405190810160405280608081526020017f656266343666616361373534666339303731366436363565366336666562323081526020017f366361343337633965356631363639306536393035313362333032393335303581526020017f336139643732326238386432616230623937326634363434386633613533333781526020017f386266356366653031623833373361663265353431393762313736313765316381525081600481518110151561221857fe5b9060200190602002018190525060a060405190810160405280608081526020017f383063346662663635313232643831376433383038616663623638336663363681526020017f643966396531396234373665613065653366373537646361356364313833313681526020017f656362383939396266656134653961356163633939363835303463623931393981526020017f39376135633161623632336335633533336362363632323931313439623061338152508160058151811015156122dd57fe5b9060200190602002018190525060a060405190810160405280608081526020017f356437656438313331393136623130656135343561353539616265343634333081526020017f373130396133643632646462653139633336383938386262646231646432333381526020017f306236663362626234373964306264643739656633363064376439313735303081526020017f38643930663764353131323239363932313037393365386137353263656364368152508160068151811015156123a257fe5b9060200190602002018190525060a060405190810160405280608081526020017f376563643465613162663465666133346461633431613136643763636431346581526020017f323364333939336464336630613534643732326565373664313730373138616481526020017f626137663234366330383262616461393232633837356666616161343631386581526020017f333037623638653434633238343764346634653362373637383834633032623781525081600781518110151561246757fe5b9060200190602002018190525060a060405190810160405280608081526020017f343835376637393265663737396335313166366437363433663039393134303981526020017f663737653431313234636564313433383532313735333536343133313566356481526020017f633939323765373330316666643761666337616538303235363633653137663581526020017f393333303661646637643366666163376336616136323563323530646530643581525081600881518110151561252c57fe5b9060200190602002018190525060a060405190810160405280608081526020017f616436376332353032666332373233663264636632356131343037343433383281526020017f656233653465353064376534646439313063343233663761613466653066626281526020017f636332323037643232656636656466343639646436666265613733656661386481526020017f38376234623837366130643665333836633465303062366135316332613366388152508160098151811015156125f157fe5b9060200190602002018190525060a060405190810160405280608081526020017f343336393262366637323337306133326162396663353437376163336435363081526020017f653435643239646230653665646332653139356363373438343362386661646681526020017f333235396535373834633438626634303031613935366235376334653836386681526020017f366438643339323038333935333030396461313134653338326236376233323681525081600a8151811015156126b657fe5b9060200190602002018190525060a060405190810160405280608081526020017f653337363636346431376661353564316239343036316364343836613666386481526020017f363432636634336666363366323535353734346466363638633835663836653781526020017f383162303236643633303035363464646532333465313964643639643261626581526020017f646331386135336462306436663165346134633162663362323766376438343881525081600b81518110151561277b57fe5b9060200190602002018190525060a060405190810160405280608081526020017f326332396632636536346463393066313533386264653032663636363636346181526020017f366331343833323537363038366130313961613636373261666238653632393981526020017f303636623963353963386335313165393063303862373831653230353164653681526020017f666566626465363032646437343562356463383531393732663361333435373481525081600c81518110151561284057fe5b9060200190602002018190525060a060405190810160405280608081526020017f373939326636356638323339326331306531323762386138343266613738613181526020017f336239366134646434346331356563373738663037373363393162643661393381526020017f313663393738663231353566653433646535636431633165663961666463353381526020017f316464333362393839333031323364363961343634306632623663393531643581525081600d81518110151561290557fe5b9060200190602002018190525060a060405190810160405280608081526020017f323734396436633331333665393365303661363865386262626263386236393681526020017f626266623634343136366434653431353564336262646432373136353533633281526020017f613331376137383262663263376166366662386135313030323865646234326581526020017f363230343539373335633361333237323035333438616461643361396434316681525081600e8151811015156129ca57fe5b9060200190602002018190525060a060405190810160405280608081526020017f336230376566343839396233343631656164343263646464373232333165353881526020017f656663313133383038636630636132313136643937373239616632623230383781526020017f303661656535366238663130303161323036633032663034313762613132366281526020017f396365343937363466313663366536376534333865323438356338643662613481525081600f815181101515612a8f57fe5b906020019060200201819052508091505090565b60006064905090565b60006001905090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10612af657805160ff1916838001178555612b24565b82800160010185558215612b24579182015b82811115612b23578251825591602001919060010190612b08565b5b509050612b319190612b7d565b5090565b50805460018160011615610100020316600290046000825580601f10612b5b5750612b7a565b601f016020900490600052602060002090810190612b799190612b7d565b5b50565b612b9f91905b80821115612b9b576000816000905550600101612b83565b5090565b905600a165627a7a723058200ee9ea5a1b362a59cf948533b011d86f57700d6dcc44a8df40e5ef8a7a11d90f0029",
	// Candidate contract bytecode for private chain in genesis block, source code in kvm/smc/permissioned/CandidateDB.sol
	// This contract should be moved to another config for private chain soon
	"0x00000000000000000000000000000000736d6337": "60806040526004361061008e576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063126d89ff146100935780631a83260c1461012357806332955d7014610218578063536bbec3146103315780638813ce1214610459578063b9da4af8146104e9578063cc5ef00914610598578063f406872214610628575b600080fd5b34801561009f57600080fd5b506100a861071d565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100e85780820151818401526020810190506100cd565b50505050905090810190601f1680156101155780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561012f57600080fd5b50610216600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610bac565b005b34801561022457600080fd5b5061031560048036038101908080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610d27565b604051808260ff1660ff16815260200191505060405180910390f35b34801561033d57600080fd5b506103de600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929050505061136d565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561041e578082015181840152602081019050610403565b50505050905090810190601f16801561044b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561046557600080fd5b5061046e61180f565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156104ae578082015181840152602081019050610493565b50505050905090810190601f1680156104db5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156104f557600080fd5b50610596600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611c9e565b005b3480156105a457600080fd5b506105ad611dab565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156105ed5780820151818401526020810190506105d2565b50505050905090810190601f16801561061a5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561063457600080fd5b5061071b600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050612230565b005b60608060008060008054905014156107475760206040519081016040528060008152509250610ba7565b60206040519081016040528060008152509150600090505b600080549050811015610ba3576001151560008281548110151561077f57fe5b906000526020600020906006020160030160009054906101000a900460ff1615151415610b96576040516020018060000190506040516020818303038152906040526040518082805190602001908083835b6020831015156107f657805182526020820191506020810190506020830392506107d1565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916826040516020018082805190602001908083835b602083101515610860578051825260208201915060208101905060208303925061083b565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156108c957805182526020820191506020810190506020830392506108a4565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191614151561094357610940826040805190810160405280600181526020017f2c0000000000000000000000000000000000000000000000000000000000000081525061231d565b91505b610b9382610b8e60008481548110151561095957fe5b906000526020600020906006020160c06040519081016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610a0c5780601f106109e157610100808354040283529160200191610a0c565b820191906000526020600020905b8154815290600101906020018083116109ef57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610aae5780601f10610a8357610100808354040283529160200191610aae565b820191906000526020600020905b815481529060010190602001808311610a9157829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b505780601f10610b2557610100808354040283529160200191610b50565b820191906000526020600020905b815481529060010190602001808311610b3357829003601f168201915b505050505081526020016003820160009054906101000a900460ff1615151515815260200160048201548152602001600582015481525050846123e9565b61231d565b91505b808060010191505061075f565b8192505b505090565b7fe2df4c83eef1ab3c88f888395f79598f4f2b295eb4701a77c0278a2027392b3f83838360405180806020018060200180602001848103845287818151815260200191508051906020019080838360005b83811015610c18578082015181840152602081019050610bfd565b50505050905090810190601f168015610c455780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b83811015610c7e578082015181840152602081019050610c63565b50505050905090810190601f168015610cab5780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b83811015610ce4578082015181840152602081019050610cc9565b50505050905090810190601f168015610d115780820380516001836020036101000a031916815260200191505b50965050505050505060405180910390a1505050565b6000836040516020018082805190602001908083835b602083101515610d625780518252602082019150602081019050602083039250610d3d565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515610dcb5780518252602082019150602081019050602083039250610da6565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916600086815481101515610e0b57fe5b90600052602060002090600602016000016040516020018082805460018160011615610100020316600290048015610e7a5780601f10610e58576101008083540402835291820191610e7a565b820191906000526020600020905b815481529060010190602001808311610e66575b50509150506040516020818303038152906040526040518082805190602001908083835b602083101515610ec35780518252602082019150602081019050602083039250610e9e565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916141515610f045760009050611365565b600085815481101515610f1357fe5b906000526020600020906006020160030160009054906101000a900460ff1615610f405760009050611365565b816040516020018082805190602001908083835b602083101515610f795780518252602082019150602081019050602083039250610f54565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515610fe25780518252602082019150602081019050602083039250610fbd565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660008681548110151561102257fe5b906000526020600020906006020160010160405160200180828054600181600116156101000203166002900480156110915780601f1061106f576101008083540402835291820191611091565b820191906000526020600020905b81548152906001019060200180831161107d575b50509150506040516020818303038152906040526040518082805190602001908083835b6020831015156110da57805182526020820191506020810190506020830392506110b5565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191614151561111b5760009050611365565b600160008681548110151561112c57fe5b906000526020600020906006020160030160006101000a81548160ff0219169083151502179055508260008681548110151561116457fe5b90600052602060002090600602016002019080519060200190611188929190612cf3565b504360008681548110151561119957fe5b9060005260206000209060060201600501819055507f8621b9013be815a7c03fe9292e5009d853e9bfc6985fb0415eb3d92cde37f19a84846000888154811015156111e057fe5b906000526020600020906006020160010160405180806020018060200180602001848103845287818151815260200191508051906020019080838360005b8381101561123957808201518184015260208101905061121e565b50505050905090810190601f1680156112665780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b8381101561129f578082015181840152602081019050611284565b50505050905090810190601f1680156112cc5780820380516001836020036101000a031916815260200191505b5084810382528581815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561134e5780601f106113235761010080835404028352916020019161134e565b820191906000526020600020905b81548152906001019060200180831161133157829003601f168201915b5050965050505050505060405180910390a1600190505b949350505050565b606060008090505b6001805490508110156117f457836040516020018082805190602001908083835b6020831015156113bb5780518252602082019150602081019050602083039250611396565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b60208310151561142457805182526020820191506020810190506020830392506113ff565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660018281548110151561146457fe5b906000526020600020906005020160000160405160200180828054600181600116156101000203166002900480156114d35780601f106114b15761010080835404028352918201916114d3565b820191906000526020600020905b8154815290600101906020018083116114bf575b50509150506040516020818303038152906040526040518082805190602001908083835b60208310151561151c57805182526020820191506020810190506020830392506114f7565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019161480156117225750826040516020018082805190602001908083835b60208310151561158e5780518252602082019150602081019050602083039250611569565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156115f757805182526020820191506020810190506020830392506115d2565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660018281548110151561163757fe5b906000526020600020906005020160010160405160200180828054600181600116156101000203166002900480156116a65780601f106116845761010080835404028352918201916116a6565b820191906000526020600020905b815481529060010190602001808311611692575b50509150506040516020818303038152906040526040518082805190602001908083835b6020831015156116ef57805182526020820191506020810190506020830392506116ca565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916145b156117e75760018181548110151561173657fe5b90600052602060002090600502016002018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156117db5780601f106117b0576101008083540402835291602001916117db565b820191906000526020600020905b8154815290600101906020018083116117be57829003601f168201915b50505050509150611808565b8080600101915050611375565b602060405190810160405280600081525091505b5092915050565b60608060008060008054905014156118395760206040519081016040528060008152509250611c99565b60206040519081016040528060008152509150600090505b600080549050811015611c95576040516020018060000190506040516020818303038152906040526040518082805190602001908083835b6020831015156118ae5780518252602082019150602081019050602083039250611889565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916826040516020018082805190602001908083835b60208310151561191857805182526020820191506020810190506020830392506118f3565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515611981578051825260208201915060208101905060208303925061195c565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019161415156119fb576119f8826040805190810160405280600181526020017f2c0000000000000000000000000000000000000000000000000000000000000081525061231d565b91505b60001515600082815481101515611a0e57fe5b906000526020600020906006020160030160009054906101000a900460ff1615151415611c8857611c8582611c80600084815481101515611a4b57fe5b906000526020600020906006020160c06040519081016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611afe5780601f10611ad357610100808354040283529160200191611afe565b820191906000526020600020905b815481529060010190602001808311611ae157829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611ba05780601f10611b7557610100808354040283529160200191611ba0565b820191906000526020600020905b815481529060010190602001808311611b8357829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611c425780601f10611c1757610100808354040283529160200191611c42565b820191906000526020600020905b815481529060010190602001808311611c2557829003601f168201915b505050505081526020016003820160009054906101000a900460ff1615151515815260200160048201548152602001600582015481525050846123e9565b61231d565b91505b8080600101915050611851565b8192505b505090565b611ca6612d73565b60c0604051908101604052808481526020018381526020016020604051908101604052806000815250815260200160001515815260200143815260200160008152509050600081908060018154018082558091505090600182039060005260206000209060060201600090919290919091506000820151816000019080519060200190611d34929190612dac565b506020820151816001019080519060200190611d51929190612dac565b506040820151816002019080519060200190611d6e929190612dac565b5060608201518160030160006101000a81548160ff0219169083151502179055506080820151816004015560a08201518160050155505050505050565b6060806000806001805490501415611dd5576020604051908101604052806000815250925061222b565b60206040519081016040528060008152509150600090505b600180549050811015612227576040516020018060000190506040516020818303038152906040526040518082805190602001908083835b602083101515611e4a5780518252602082019150602081019050602083039250611e25565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916826040516020018082805190602001908083835b602083101515611eb45780518252602082019150602081019050602083039250611e8f565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515611f1d5780518252602082019150602081019050602083039250611ef8565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916141515611f9757611f94826040805190810160405280600181526020017f2c0000000000000000000000000000000000000000000000000000000000000081525061231d565b91505b60011515600182815481101515611faa57fe5b906000526020600020906005020160030160009054906101000a900460ff161515141561221a5761221782612212600184815481101515611fe757fe5b906000526020600020906005020160a06040519081016040529081600082018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561209a5780601f1061206f5761010080835404028352916020019161209a565b820191906000526020600020905b81548152906001019060200180831161207d57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561213c5780601f106121115761010080835404028352916020019161213c565b820191906000526020600020905b81548152906001019060200180831161211f57829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156121de5780601f106121b3576101008083540402835291602001916121de565b820191906000526020600020905b8154815290600101906020018083116121c157829003601f168201915b505050505081526020016003820160009054906101000a900460ff161515151581526020016004820154815250508461290c565b61231d565b91505b8080600101915050611ded565b8192505b505090565b612238612e2c565b60a0604051908101604052808581526020018481526020018381526020016001151581526020014381525090506001819080600181540180825580915050906001820390600052602060002090600502016000909192909190915060008201518160000190805190602001906122af929190612dac565b5060208201518160010190805190602001906122cc929190612dac565b5060408201518160020190805190602001906122e9929190612dac565b5060608201518160030160006101000a81548160ff0219169083151502179055506080820151816004015550505050505050565b606082826040516020018083805190602001908083835b6020831015156123595780518252602082019150602081019050602083039250612334565b6001836020036101000a03801982511681845116808217855250505050505090500182805190602001908083835b6020831015156123ac5780518252602082019150602081019050602083039250612387565b6001836020036101000a03801982511681845116808217855250505050505090500192505050604051602081830303815290604052905092915050565b6060806123f583612b9c565b905083606001511561270a578084600001518560200151866040015161241e8860800151612b9c565b61242b8960a00151612b9c565b6040516020018087805190602001908083835b602083101515612463578051825260208201915060208101905060208303925061243e565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010186805190602001908083835b6020831015156124de57805182526020820191506020810190506020830392506124b9565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010185805190602001908083835b6020831015156125595780518252602082019150602081019050602083039250612534565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010184805190602001908083835b6020831015156125d457805182526020820191506020810190506020830392506125af565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010183805190602001908083835b60208310151561264f578051825260208201915060208101905060208303925061262a565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b6020831015156126ca57805182526020820191506020810190506020830392506126a5565b6001836020036101000a03801982511681845116808217855250505050505090500196505050505050506040516020818303038152906040529150612905565b80846000015185602001516127228760800151612b9c565b6040516020018085805190602001908083835b60208310151561275a5780518252602082019150602081019050602083039250612735565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010184805190602001908083835b6020831015156127d557805182526020820191506020810190506020830392506127b0565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010183805190602001908083835b602083101515612850578051825260208201915060208101905060208303925061282b565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b6020831015156128cb57805182526020820191506020810190506020830392506128a6565b6001836020036101000a03801982511681845116808217855250505050505090500194505050505060405160208183030381529060405291505b5092915050565b60608061291883612b9c565b9050808460000151856020015186604001516129378860800151612b9c565b6040516020018086805190602001908083835b60208310151561296f578051825260208201915060208101905060208303925061294a565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010185805190602001908083835b6020831015156129ea57805182526020820191506020810190506020830392506129c5565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010184805190602001908083835b602083101515612a655780518252602082019150602081019050602083039250612a40565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010183805190602001908083835b602083101515612ae05780518252602082019150602081019050602083039250612abb565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b602083101515612b5b5780518252602082019150602081019050602083039250612b36565b6001836020036101000a0380198251168184511680821785525050505050509050019550505050505060405160208183030381529060405291505092915050565b60606000806060600080861415612bea576040805190810160405280600181526020017f30000000000000000000000000000000000000000000000000000000000000008152509450612cea565b8593505b600084141515612c14578280600101935050600a84811515612c0c57fe5b049350612bee565b826040519080825280601f01601f191660200182016040528015612c475781602001602082028038833980820191505090505b5091506001830390505b600086141515612ce657600a86811515612c6757fe5b066030017f010000000000000000000000000000000000000000000000000000000000000002828280600190039350815181101515612ca257fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a86811515612cde57fe5b049550612c51565b8194505b50505050919050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10612d3457805160ff1916838001178555612d62565b82800160010185558215612d62579182015b82811115612d61578251825591602001919060010190612d46565b5b509050612d6f9190612e5e565b5090565b60c06040519081016040528060608152602001606081526020016060815260200160001515815260200160008152602001600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10612ded57805160ff1916838001178555612e1b565b82800160010185558215612e1b579182015b82811115612e1a578251825591602001919060010190612dff565b5b509050612e289190612e5e565b5090565b60a060405190810160405280606081526020016060815260200160608152602001600015158152602001600081525090565b612e8091905b80821115612e7c576000816000905550600101612e64565b5090565b905600a165627a7a72305820e1c4d65e1920e9ecdbd117be10475145dbc886cbdac679dc7567918b26201a890029",
	// Candidate exchange contract bytecode for Kardia-private chain dual node, source code in kvm/smc/permissioned/CandidateExchange.sol
	"0x00000000000000000000000000000000736d6338": "60806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630e40683614610051578063912991d314610146575b600080fd5b34801561005d57600080fd5b50610144600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610281565b005b34801561015257600080fd5b5061027f600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506103fc565b005b7f3ca643a7086eb63dfb0e5f2cec44808b9487badc9a643e9eaae2415149fb833c83838360405180806020018060200180602001848103845287818151815260200191508051906020019080838360005b838110156102ed5780820151818401526020810190506102d2565b50505050905090810190601f16801561031a5780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b83811015610353578082015181840152602081019050610338565b50505050905090810190601f1680156103805780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b838110156103b957808201518184015260208101905061039e565b50505050905090810190601f1680156103e65780820380516001836020036101000a031916815260200191505b50965050505050505060405180910390a1505050565b7f90affc9ed2543eb1fb9de02387ab117d255429f9f5c25458d725cc772bc7221f848484846040518080602001806020018060200180602001858103855289818151815260200191508051906020019080838360005b8381101561046d578082015181840152602081019050610452565b50505050905090810190601f16801561049a5780820380516001836020036101000a031916815260200191505b50858103845288818151815260200191508051906020019080838360005b838110156104d35780820151818401526020810190506104b8565b50505050905090810190601f1680156105005780820380516001836020036101000a031916815260200191505b50858103835287818151815260200191508051906020019080838360005b8381101561053957808201518184015260208101905061051e565b50505050905090810190601f1680156105665780820380516001836020036101000a031916815260200191505b50858103825286818151815260200191508051906020019080838360005b8381101561059f578082015181840152602081019050610584565b50505050905090810190601f1680156105cc5780820380516001836020036101000a031916815260200191505b509850505050505050505060405180910390a1505050505600a165627a7a72305820aaf69639545c4279771ad00169e14a25b6d1d929396974fc4d1fa08cf2af26440029",
}

// abi for contract in genesis block
var GenesisContractAbis = map[string]string{
	// This is abi for counter contract
	"0x00000000000000000000000000000000736d6331": `[
		{"constant": false,"inputs": [{"name": "x","type": "uint8"}],"name": "set","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": true,"inputs": [],"name": "get","outputs": [{"name": "","type": "uint8"}],"payable": false,"stateMutability": "view","type": "function"}
	]`,
	// This is abi for simple voting contract
	"0x00000000000000000000000000000000736d6332": `[
		{"constant": true,"inputs": [{"name": "toProposal","type": "uint8"}],"name": "getVote","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": true,"inputs": [],"name": "winningProposal","outputs": [{"name": "_winningProposal","type": "uint8"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": false,"inputs": [{"name": "toProposal","type": "uint8"}],"name": "vote","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"}
	]`,
	// This is abi for master exchange contract
	"0x00000000000000000000000000000000736d6333": `[
		{"constant":true,"inputs":[],"name":"getNeoToSend","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},
		{"constant":false,"inputs":[{"name":"neo","type":"uint256"}],"name":"removeNeo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},
		{"constant":true,"inputs":[],"name":"totalEth","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},
		{"constant":false,"inputs":[{"name":"eth","type":"uint256"}],"name":"removeEth","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},
		{"constant":true,"inputs":[],"name":"totalNeo","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},
		{"constant":false,"inputs":[{"name":"neo","type":"uint256"}],"name":"matchNeo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},
		{"constant":false,"inputs":[{"name":"eth","type":"uint256"}],"name":"matchEth","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},
		{"constant":true,"inputs":[],"name":"getEthToSend","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}
	]`,
	"0x00000000000000000000000000000000736D6339": `[
		{"constant": false,"inputs": [{"name": "srcPair","type": "string"},{"name": "destPair","type": "string"},{"name": "srcAddress","type": "string"},{"name": "destAddress","type": "string"},{"name": "originalTxId","type": "string"},{"name": "amount","type": "uint256"}],"name": "matchOrder","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"	},
		{"constant": true,"inputs": [{"name": "pair","type": "string"}],"name": "getOrderBook","outputs": [{"name": "orderBook","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": true,"inputs": [{"name": "pair","type": "string"}],"name": "getMatchableAmount","outputs": [{"name": "amounts","type": "uint256[]"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": true,"inputs": [{"name": "pair","type": "string"}],"name": "getRatePublic","outputs": [{"name": "sale","type": "uint256"},{"name": "receive","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": false,"inputs": [{"name": "pair","type": "string"},{"name": "sale_amount","type": "uint256"},{"name": "receiveAmount","type": "uint256"}],"name": "addRate","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": false,"inputs": [{"name": "originalIxId","type": "string"},{"name": "releaseTxId","type": "string"},{"name": "pair","type": "string"},{"name": "receiveAddress","type": "string"},{"name": "releaseAmount","type": "uint256"}],"name": "completeOrder","outputs": [{"name": "success","type": "uint256"}],"payable": false,"stateMutability": "nonpayable","type": "function"	},
		{"constant": true,"inputs": [{"name": "originalTxId","type": "string"},{"name": "pair","type": "string"}],"name": "getReleaseByTxId","outputs": [{"name": "releaseInfos","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": true,"inputs": [{"name": "addr","type": "string"},{"name": "pair","type": "string"}],"name": "getOrderHistoryByPair","outputs": [{"name": "orderHistory","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": true,"inputs": [{"name": "addr","type": "string"}],"name": "getOrderHistory","outputs": [{"name": "orderHistory","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"anonymous": false,"inputs": [{"indexed": true,"name": "pair","type": "string"},{"indexed": true,"name": "addr","type": "string"},{"indexed": false,"name": "matchOrderId","type": "string"},{"indexed": false,"name": "_value","type": "uint256"}],"name": "Release","type": "event"	}
	]`,
	"0x00000000000000000000000000000000736D6336": `[
		{"constant": true,"inputs": [{"name": "_pubkey","type": "string"},{"name": "_nodeType","type": "uint256"}],
	"name": "isValidNode","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view",
	"type": "function"},
		{"constant": true,"inputs": [{"name": "_pubkey","type": "string"}],"name": "isValidator","outputs": [{"name": "",
	"type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": true,"inputs": [{"name": "_pubkey","type": "string"}],"name": "getNodeInfo","outputs": [{"name": "addr",
	"type": "address"},{"name": "votingPower","type": "uint256"},{"name": "nodeType","type": "uint256"}, {"name": "listenAddress","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": false,"inputs": [{"name": "_pubkey","type": "string"},{"name": "_addr","type": "address"},{"name": "_nodeType",
	"type": "uint256"},{"name": "_votingPower","type": "uint256"},{"name": "listenAddress","type": "string"}],"name": "addNode","outputs": [{"name": "","type": "uint256"}],
	"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": false,"inputs": [{"name": "_pubkey","type": "string"}],"name": "removeNode","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "nonpayable","type": "function"
	},
		{"constant": true,"inputs": [{"name": "index","type": "uint256"}],"name": "getInitialNodeByIndex","outputs": [{"name": "publickey","type": "string"},{"name": "addr","type": "address"},{"name": "listenAddr","type": "string"},{"name": "votingPower","type": "uint256"},{"name": "nodeType","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"}
	]`,
	// Abi for private chain candidate contract to manage candidate data
	"0x00000000000000000000000000000000736D6337": `[
		{"constant": true,"inputs": [],"name": "getCompletedRequests","outputs": [{"name": "requestList","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": false,"inputs": [{"name": "_email","type": "string"},{"name": "_fromOrgId","type": "string"},{"name": "_toOrgId","type": "string"}],"name": "requestCandidateInfo","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": false,"inputs": [{"name": "_requestID","type": "uint256"},{"name": "_email","type": "string"},{"name": "_content","type": "string"},{"name": "_toOrgId","type": "string"}],"name": "completeRequest","outputs": [{"name": "","type": "uint8"}],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": true,"inputs": [{"name": "_email","type": "string"},{"name": "_fromOrgId","type": "string"}],"name": "getExternalResponse","outputs": [{"name": "content","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": true,"inputs": [],"name": "getRequests","outputs": [{"name": "requestList","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": false,"inputs": [{"name": "email","type": "string"},{"name": "fromOrgId","type": "string"}],"name": "addRequest","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": true,"inputs": [],"name": "getResponses","outputs": [{"name": "responseList","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": false,"inputs": [{"name": "_email","type": "string"},{"name": "_fromOrgId","type": "string"},{"name": "_content","type": "string"}],"name": "addExternalResponse","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"anonymous": false,"inputs": [{"indexed": false,"name": "email","type": "string"},{"indexed": false,"name": "fromOrgId","type": "string"},{"indexed": false,"name": "toOrgId","type": "string"}],"name": "ExternalCandidateInfoRequested","type": "event"},
		{"anonymous": false,"inputs": [{"indexed": false,"name": "email","type": "string"},{"indexed": false,"name": "answer","type": "string"},{"indexed": false,"name": "toOrgId","type": "string"}],"name": "RequestCompleted","type": "event"}]`,
	// Abi for Kardia contract to exchange candidate data between private chain
	"0x00000000000000000000000000000000736D6338": `[
		{"constant": false,"inputs": [{"name": "_email","type": "string"},{"name": "_fromOrgID","type": "string"},{"name": "_toOrgID","type": "string"}],"name": "forwardRequest","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": false,"inputs": [{"name": "_email","type": "string"},{"name": "_response","type": "string"},{"name": "_fromOrgID","type": "string"},{"name": "_toOrgID","type": "string"}],"name": "forwardResponse","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"anonymous": false,"inputs": [{"indexed": false,"name": "email","type": "string"},{"indexed": false,"name": "fromOrgID","type": "string"},{"indexed": false,"name": "toOrgID","type": "string"}],"name": "IncomingRequest","type": "event"},
		{"anonymous": false,"inputs": [{"indexed": false,"name": "email","type": "string"},{"indexed": false,"name": "name","type": "string"},{"indexed": false,"name": "age","type": "uint8"},{"indexed": false,"name": "addr","type": "address"},{"indexed": false,"name": "source","type": "string"},{"indexed": false,"name": "fromOrgID","type": "string"},{"indexed": false,"name": "toOrgID","type": "string"}],"name": "FulfilledRequest","type": "event"}]`,
}

func GetContractAddressAt(index int) common.Address {
	if index >= len(GenesisContractAddress) {
		return common.Address{}
	}
	return common.HexToAddress(GenesisContractAddress[index])
}

func GetContractAbiByAddress(address string) string {
	// log.Info("Getting abi for address",  "address", address)
	for add, abi := range GenesisContractAbis {
		if strings.EqualFold(add, address) {
			return abi
		}
	}
	panic("abi not found")
}

func GetContractDetailsByIndex(index int) (common.Address, string) {
	address := GetContractAddressAt(index)
	if address.Equal(common.Address{}) {
		return address, ""
	}
	return address, GetContractAbiByAddress(address.String())
}
