/*
 *  Copyright 2018 KardiaChain
 *  This file is part of the go-kardia library.
 *
 *  The go-kardia library is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU Lesser General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  The go-kardia library is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 *  GNU Lesser General Public License for more details.
 *
 *  You should have received a copy of the GNU Lesser General Public License
 *  along with the go-kardia library. If not, see <http://www.gnu.org/licenses/>.
 */

package configs

import (
	"fmt"
	"math/big"
	"time"

	"github.com/kardiachain/go-kardia/lib/common"
	"math"
	"strings"
)

// TODO(huny): Get the proper genesis hash for Kardia when ready
// Genesis hashes to enforce below configs on.
var (
	MainnetGenesisHash = common.HexToHash("0xd4e56740f876aef8c010b86a40d5f56745a118d0906a34e69aec8c0db1cb8fa3")
	TestnetGenesisHash = common.HexToHash("0x41941023680923e0fe4d74a34bdac8141f2540e3ae90623718e47d66d1ca4a2d")
)

var (
	EthDualChainID = uint64(2)
	NeoDualChainID = uint64(3)
	DefaultChainID = uint64(1)
)

var (
	// MainnetChainConfig is the chain parameters to run a node on the main network.
	MainnetChainConfig = &ChainConfig{
		Kaicon: &KaiconConfig{
			Period: 15,
			Epoch:  30000,
		},
	}

	// TestnetChainConfig contains the chain parameters to run a node on the test network.
	TestnetChainConfig = &ChainConfig{
		Kaicon: &KaiconConfig{
			Period: 15,
			Epoch:  30000,
		},
	}

	// TestChainConfig contains the chain parameters to run unit test.
	TestChainConfig = &ChainConfig{
		Kaicon: &KaiconConfig{
			Period: 15,
			Epoch:  30000,
		},
	}
)

// ChainConfig is the core config which determines the blockchain settings.
//
// ChainConfig is stored in the database on a per block basis. This means
// that any network, identified by its genesis block, can have its own
// set of configuration options.
type ChainConfig struct {
	// Various consensus engines
	Kaicon *KaiconConfig `json:"kaicon,omitempty"`
}

// KaiconConfig is the consensus engine configs for Kardia BFT DPoS.
type KaiconConfig struct {
	// TODO(huny): implement this
	Period uint64 `json:"period"` // Number of seconds between blocks to enforce
	Epoch  uint64 `json:"epoch"`  // Epoch length to reset votes and checkpoint
}

// String implements the stringer interface, returning the consensus engine details.
func (c *KaiconConfig) String() string {
	return "kaicon"
}

// String implements the fmt.Stringer interface.
func (c *ChainConfig) String() string {
	var engine interface{}
	switch {
	case c.Kaicon != nil:
		engine = c.Kaicon
	default:
		engine = "unknown"
	}
	return fmt.Sprintf("{Engine: %v}",
		engine,
	)
}

// GasTable organizes gas prices for different Kardia operations.
type GasTable struct {
	ExtcodeSize uint64
	ExtcodeCopy uint64
	Balance     uint64
	SLoad       uint64
	Calls       uint64
	Suicide     uint64

	ExpByte uint64

	// CreateBySuicide occurs when the
	// refunded account is one that does
	// not exist. This logic is similar
	// to call. May be left nil. Nil means
	// not charged.
	CreateBySuicide uint64
}

// Variables containing gas prices for different ethereum phases.
var (
	// GasTableV0 contain the gas prices for the initial phase.
	GasTableV0 = GasTable{
		ExtcodeSize: 700,
		ExtcodeCopy: 700,
		Balance:     400,
		SLoad:       200,
		Calls:       700,
		Suicide:     5000,
		ExpByte:     50,

		CreateBySuicide: 25000,
	}
)

func configNumEqual(x, y *big.Int) bool {
	if x == nil {
		return y == nil
	}
	if y == nil {
		return x == nil
	}
	return x.Cmp(y) == 0
}

// -------- Consensus Config ---------

// ConsensusConfig defines the configuration for the Kardia consensus service,
// including timeouts and details about the block structure.
type ConsensusConfig struct {
	// All timeouts are in milliseconds
	TimeoutPropose        int `mapstructure:"timeout_propose"`
	TimeoutProposeDelta   int `mapstructure:"timeout_propose_delta"`
	TimeoutPrevote        int `mapstructure:"timeout_prevote"`
	TimeoutPrevoteDelta   int `mapstructure:"timeout_prevote_delta"`
	TimeoutPrecommit      int `mapstructure:"timeout_precommit"`
	TimeoutPrecommitDelta int `mapstructure:"timeout_precommit_delta"`
	TimeoutCommit         int `mapstructure:"timeout_commit"`

	// Make progress as soon as we have all the precommits (as if TimeoutCommit = 0)
	SkipTimeoutCommit bool `mapstructure:"skip_timeout_commit"`

	// EmptyBlocks mode and possible interval between empty blocks in seconds
	CreateEmptyBlocks         bool `mapstructure:"create_empty_blocks"`
	CreateEmptyBlocksInterval int  `mapstructure:"create_empty_blocks_interval"`

	// Reactor sleep duration parameters are in milliseconds
	PeerGossipSleepDuration     int `mapstructure:"peer_gossip_sleep_duration"`
	PeerQueryMaj23SleepDuration int `mapstructure:"peer_query_maj23_sleep_duration"`
}

// DefaultConsensusConfig returns a default configuration for the consensus service
func DefaultConsensusConfig() *ConsensusConfig {
	return &ConsensusConfig{
		TimeoutPropose:              5000,
		TimeoutProposeDelta:         500,
		TimeoutPrevote:              1000,
		TimeoutPrevoteDelta:         500,
		TimeoutPrecommit:            1000,
		TimeoutPrecommitDelta:       500,
		TimeoutCommit:               1000,
		SkipTimeoutCommit:           false,
		CreateEmptyBlocks:           true,
		CreateEmptyBlocksInterval:   0,
		PeerGossipSleepDuration:     3000,
		PeerQueryMaj23SleepDuration: 2000,
	}
}

// Commit returns the amount of time to wait for straggler votes after receiving +2/3 precommits for a single block (ie. a commit).
func (cfg *ConsensusConfig) Commit(t time.Time) time.Time {
	return t.Add(time.Duration(cfg.TimeoutCommit) * time.Millisecond)
}

// Propose returns the amount of time to wait for a proposal
func (cfg *ConsensusConfig) Propose(round int) time.Duration {
	return time.Duration(cfg.TimeoutPropose+cfg.TimeoutProposeDelta*round) * time.Millisecond
}

// Prevote returns the amount of time to wait for straggler votes after receiving any +2/3 prevotes
func (cfg *ConsensusConfig) Prevote(round int) time.Duration {
	return time.Duration(cfg.TimeoutPrevote+cfg.TimeoutPrevoteDelta*round) * time.Millisecond
}

// Precommit returns the amount of time to wait for straggler votes after receiving any +2/3 precommits
func (cfg *ConsensusConfig) Precommit(round int) time.Duration {
	return time.Duration(cfg.TimeoutPrecommit+cfg.TimeoutPrecommitDelta*round) * time.Millisecond
}

// PeerGossipSleep returns the amount of time to sleep if there is nothing to send from the ConsensusReactor
func (cfg *ConsensusConfig) PeerGossipSleep() time.Duration {
	return time.Duration(cfg.PeerGossipSleepDuration) * time.Millisecond
}

// PeerQueryMaj23Sleep returns the amount of time to sleep after each VoteSetMaj23Message is sent in the ConsensusReactor
func (cfg *ConsensusConfig) PeerQueryMaj23Sleep() time.Duration {
	return time.Duration(cfg.PeerQueryMaj23SleepDuration) * time.Millisecond
}

// ======================= Genesis Const =======================

var initValue = int64(math.Pow10(15))

// GenesisAccounts are used to initialized accounts in genesis block
var GenesisAccounts = map[string]int64{
	// TODO(kiendn): These addresses are same of node address. Change to another set.
	"0xc1fe56E3F58D3244F606306611a5d10c8333f1f6": initValue,
	"0x7cefC13B6E2aedEeDFB7Cb6c32457240746BAEe5": initValue,
	"0xfF3dac4f04dDbD24dE5D6039F90596F0a8bb08fd": initValue,
	"0x071E8F5ddddd9f2D4B4Bdf8Fc970DFe8d9871c28": initValue,
	"0x94FD535AAB6C01302147Be7819D07817647f7B63": initValue,
	"0xa8073C95521a6Db54f4b5ca31a04773B093e9274": initValue,
	"0xe94517a4f6f45e80CbAaFfBb0b845F4c0FDD7547": initValue,
	"0xBA30505351c17F4c818d94a990eDeD95e166474b": initValue,
	"0x212a83C0D7Db5C526303f873D9CeaA32382b55D0": initValue,
	"0x8dB7cF1823fcfa6e9E2063F983b3B96A48EEd5a4": initValue,
	"0x8C10639F908FED884a04C5A49A2735AB726DDaB4": initValue,
	"0x2BB7316884C7568F2C6A6aDf2908667C0d241A66": initValue,
	// TODO(namdoh): Re-enable after parsing node index fixed in main.go
	//"0x36BE7365e6037bD0FDa455DC4d197B07A2002547": 100000000,
}

//  GenesisAddrKeys maps genesis account addresses to private keys.
var GenesisAddrKeys = map[string]string{
	"0xc1fe56E3F58D3244F606306611a5d10c8333f1f6": "8843ebcb1021b00ae9a644db6617f9c6d870e5fd53624cefe374c1d2d710fd06",
	"0x7cefC13B6E2aedEeDFB7Cb6c32457240746BAEe5": "77cfc693f7861a6e1ea817c593c04fbc9b63d4d3146c5753c008cfc67cffca79",
	"0xfF3dac4f04dDbD24dE5D6039F90596F0a8bb08fd": "98de1df1e242afb02bd5dc01fbcacddcc9a4d41df95a66f629139560ca6e4dbb",
	"0x071E8F5ddddd9f2D4B4Bdf8Fc970DFe8d9871c28": "32f5c0aef7f9172044a472478421c63fd8492640ff2d0eaab9562389db3a8efe",
	"0x94FD535AAB6C01302147Be7819D07817647f7B63": "68b53a92d846baafdc782cb9cad65d77020c8d747eca7b621370b52b18c91f9a",
	"0xa8073C95521a6Db54f4b5ca31a04773B093e9274": "049de018e08c3bcd59c1a21f0cf7de8f17fe51f8ce7d9c2120d17b1f0251b265",
	"0xe94517a4f6f45e80CbAaFfBb0b845F4c0FDD7547": "9fdd56a3c2a536dc8f981d935f0f3f2ea04e125547fdfffa37e157ce86ff1007",
	"0xBA30505351c17F4c818d94a990eDeD95e166474b": "ae1a52546294bed6e734185775dbc84009de00bdf51b709471e2415c31ceeed7",
	"0x212a83C0D7Db5C526303f873D9CeaA32382b55D0": "b34bd81838a4a335fb3403d0bf616eca1eb9a4b4716c7dda7c617503cfeaab67",
	"0x8dB7cF1823fcfa6e9E2063F983b3B96A48EEd5a4": "0cf7ae0332a891044659ace49a0732fa07c2872b4aef479945501f385a23e689",
	"0x8C10639F908FED884a04C5A49A2735AB726DDaB4": "9813a1dffe303131d1fe80b6fe872206267abd8ff84a52c907b0d32df582b1eb",
	"0x2BB7316884C7568F2C6A6aDf2908667C0d241A66": "4561f7d91a4f95ef0a72550fa423febaad3594f91611f9a2b10a7af4d3deb9ed",
	// TODO(namdoh): Re-enable after parsing node index fixed in main.go
	//"e049a09c992c882bc2deb780323a247c6ee0951f8b4c5c1dd0fc2fc22ce6493d": "0x36BE7365e6037bD0FDa455DC4d197B07A2002547",
}

const (
	MockSmartContractCallSenderAccount    = "0x7cefC13B6E2aedEeDFB7Cb6c32457240746BAEe5"
	MockSmartContractCallSenderPrivateKey = "77cfc693f7861a6e1ea817c593c04fbc9b63d4d3146c5753c008cfc67cffca79"
)

var GenesisContractAddress = []string{
	"0x00000000000000000000000000000000736D6332",
	"0x00000000000000000000000000000000736D6331",
	"0x00000000000000000000000000000000736D6333",
	"0x00000000000000000000000000000000736D6339",
	"0x00000000000000000000000000000000736D6336",
	"0x00000000000000000000000000000000736D6337",
	"0x00000000000000000000000000000000736D6338",
}

// GenesisContract are used to initialize contract in genesis block
var GenesisContracts = map[string]string{
	//"0x00000000000000000000000000000000736d6331": "60806040526004361060485763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166324b8ba5f8114604d5780636d4ce63c146067575b600080fd5b348015605857600080fd5b50606560ff60043516608f565b005b348015607257600080fd5b50607960a5565b6040805160ff9092168252519081900360200190f35b6000805460ff191660ff92909216919091179055565b60005460ff16905600a165627a7a723058206cc1a54f543612d04d3f16b0bbb49e9ded9ccf6d47f7789fe3577260346ed44d0029",
	// Simple voting contract bytecode in genesis block, source code in kvm/smc/Ballot.sol
	"0x00000000000000000000000000000000736D6332": "608060405260043610610057576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063124474a71461005c578063609ff1bd146100a0578063b3f98adc146100d1575b600080fd5b34801561006857600080fd5b5061008a600480360381019080803560ff169060200190929190505050610101565b6040518082815260200191505060405180910390f35b3480156100ac57600080fd5b506100b5610138565b604051808260ff1660ff16815260200191505060405180910390f35b3480156100dd57600080fd5b506100ff600480360381019080803560ff16906020019092919050505061019e565b005b600060048260ff161015156101195760009050610133565b60018260ff1660048110151561012b57fe5b016000015490505b919050565b6000806000809150600090505b60048160ff161015610199578160018260ff1660048110151561016457fe5b0160000154111561018c5760018160ff1660048110151561018157fe5b016000015491508092505b8080600101915050610145565b505090565b60008060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508060000160009054906101000a900460ff1680610201575060048260ff1610155b1561020b5761026a565b60018160000160006101000a81548160ff021916908315150217905550818160000160016101000a81548160ff021916908360ff1602179055506001808360ff1660048110151561025857fe5b01600001600082825401925050819055505b50505600a165627a7a72305820c93a970449b32fe53b59e0ed7cfeda5d52acafd2d1bdd3f2f67093f076acf1c60029",
	// Counter contract bytecode in genesis block, source code in kvm/smc/SimpleCounter.sol
	"0x00000000000000000000000000000000736D6331": "6080604052600436106049576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806324b8ba5f14604e5780636d4ce63c14607b575b600080fd5b348015605957600080fd5b506079600480360381019080803560ff16906020019092919050505060a9565b005b348015608657600080fd5b50608d60c6565b604051808260ff1660ff16815260200191505060405180910390f35b806000806101000a81548160ff021916908360ff16021790555050565b60008060009054906101000a900460ff169050905600a165627a7a7230582083f88bef40b78ed8ab5f620a7a1fb7953640a541335c5c352ff0877be0ecd0c60029",
	// Exchange master contract bytecode in genesis block, source code in kvm.smc/Exchange.sol
	"0x00000000000000000000000000000000736D6333": "60806040526004361061008d5763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630a0306b18114610092578063323a9243146100b95780633c3c9c23146100d357806344af18e8146100e8578063613d03af146101005780636e63987d1461011557806386dca3341461012d578063fa8513de14610145575b600080fd5b34801561009e57600080fd5b506100a761015a565b60408051918252519081900360200190f35b3480156100c557600080fd5b506100d1600435610179565b005b3480156100df57600080fd5b506100a7610194565b3480156100f457600080fd5b506100d160043561019a565b34801561010c57600080fd5b506100a76101b5565b34801561012157600080fd5b506100d16004356101bb565b34801561013957600080fd5b506100d16004356101c6565b34801561015157600080fd5b506100a76101d1565b600060015460005411156101715750600154610176565b506000545b90565b60015481111561018857600080fd5b60018054919091039055565b60005481565b6000548111156101a957600080fd5b60008054919091039055565b60015481565b600180549091019055565b600080549091019055565b6000805460015411156101e75750600054610176565b50600154905600a165627a7a723058203f7b9ba72392daf2bb6f8a91c0d4a8a3dcd58decc81ffc4fd90951f41cb9490c0029",
	// New exchange master contract bytecode in genesis block allows multiple recipients, source code in kvm.smc/ExchangeV2.sol
	"0x00000000000000000000000000000000736D6339": "6080604052600436106100af576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680631ccae936146100b4578063414aff2b1461024957806342d4d52a1461030c57806360c76dbc146103ee5780637a0cf1801461055c57806397175ddb146106a1578063c109a06e146107c9578063e3f2804f146108ab578063e439799b14610975578063f147cf57146109f6578063fd36865114610aa5575b600080fd5b3480156100c057600080fd5b50610247600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192908035906020019092919080359060200190929190505050610b54565b005b34801561025557600080fd5b5061030a600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929080359060200190929190803590602001909291905050506113d0565b005b34801561031857600080fd5b50610373600480360381019080803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506114d6565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156103b3578082015181840152602081019050610398565b50505050905090810190601f1680156103e05780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156103fa57600080fd5b506104e1600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611895565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610521578082015181840152602081019050610506565b50505050905090810190601f16801561054e5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561056857600080fd5b5061069f600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611eee565b005b3480156106ad57600080fd5b5061074e600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050612361565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561078e578082015181840152602081019050610773565b50505050905090810190601f1680156107bb5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156107d557600080fd5b50610830600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050612950565b6040518080602001828103825283818151815260200191508051906020019080838360005b83811015610870578082015181840152602081019050610855565b50505050905090810190601f16801561089d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156108b757600080fd5b50610958600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929050505061299b565b604051808381526020018281526020019250505060405180910390f35b34801561098157600080fd5b506109dc600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050612c4d565b604051808215151515815260200191505060405180910390f35b348015610a0257600080fd5b50610aa3600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050612ccf565b005b348015610ab157600080fd5b50610b52600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050612d0e565b005b610b5c6161cc565b6000610b66616230565b610180604051908101604052808b81526020018a81526020018981526020018881526020018781526020016020604051908101604052806000815250815260200160206040519081016040528060008152508152602001868152602001868152602001600081526020018581526020016001151581525092506003866040518082805190602001908083835b602083101515610c175780518252602082019150602081019050602083039250610bf2565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060009054906101000a900460ff1615610c62576113c4565b60008a6040518082805190602001908083835b602083101515610c9a5780518252602082019150602081019050602083039250610c75565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020896040518082805190602001908083835b602083101515610d035780518252602082019150602081019050602083039250610cde565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020839080600181540180825580915050906001820390600052602060002090600c0201600090919290919091506000820151816000019080519060200190610d7e929190616259565b506020820151816001019080519060200190610d9b929190616259565b506040820151816002019080519060200190610db8929190616259565b506060820151816003019080519060200190610dd5929190616259565b506080820151816004019080519060200190610df2929190616259565b5060a0820151816005019080519060200190610e0f929190616259565b5060c0820151816006019080519060200190610e2c929190616259565b5060e082015181600701556101008201518160080155610120820151816009015561014082015181600a015561016082015181600b0160006101000a81548160ff0219169083151502179055505050506001886040518082805190602001908083835b602083101515610eb45780518252602082019150602081019050602083039250610e8f565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390208a6040518082805190602001908083835b602083101515610f1d5780518252602082019150602081019050602083039250610ef8565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020896040518082805190602001908083835b602083101515610f865780518252602082019150602081019050602083039250610f61565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390208054905091506001886040518082805190602001908083835b602083101515610ff75780518252602082019150602081019050602083039250610fd2565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390208a6040518082805190602001908083835b602083101515611060578051825260208201915060208101905060208303925061103b565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020896040518082805190602001908083835b6020831015156110c957805182526020820191506020810190506020830392506110a4565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020839080600181540180825580915050906001820390600052602060002090600c0201600090919290919091506000820151816000019080519060200190611144929190616259565b506020820151816001019080519060200190611161929190616259565b50604082015181600201908051906020019061117e929190616259565b50606082015181600301908051906020019061119b929190616259565b5060808201518160040190805190602001906111b8929190616259565b5060a08201518160050190805190602001906111d5929190616259565b5060c08201518160060190805190602001906111f2929190616259565b5060e082015181600701556101008201518160080155610120820151816009015561014082015181600a015561016082015181600b0160006101000a81548160ff0219169083151502179055505050506080604051908101604052808981526020018b81526020018a8152602001838152509050806004876040518082805190602001908083835b60208310151561129f578051825260208201915060208101905060208303925061127a565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060008201518160000190805190602001906112ee929190616259565b50602082015181600101908051906020019061130b929190616259565b506040820151816002019080519060200190611328929190616259565b506060820151816003015590505060016003876040518082805190602001908083835b602083101515611370578051825260208201915060208101905060208303925061134b565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060006101000a81548160ff0219169083151502179055506113c383612d90565b5b50505050505050505050565b6040805190810160405280838152602001828152506002856040518082805190602001908083835b60208310151561141d57805182526020820191506020810190506020830392506113f8565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020846040518082805190602001908083835b6020831015156114865780518252602082019150602081019050602083039250611461565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600082015181600001556020820151816001015590505050505050565b6060806005836040518082805190602001908083835b60208310151561151157805182526020820191506020810190506020830392506114ec565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b82821015611620578382906000526020600020018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561160c5780601f106115e15761010080835404028352916020019161160c565b820191906000526020600020905b8154815290600101906020018083116115ef57829003601f168201915b505050505081526020019060010190611564565b505050509050600081511415611648576020604051908101604052806000815250915061188f565b80600081518110151561165757fe5b9060200190602002015181600181518110151561167057fe5b9060200190602002015182600281518110151561168957fe5b906020019060200201518360038151811015156116a257fe5b906020019060200201516040516020018085805190602001908083835b6020831015156116e457805182526020820191506020810190506020830392506116bf565b6001836020036101000a038019825116818451168082178552505050505050905001807f7c0000000000000000000000000000000000000000000000000000000000000081525060010184805190602001908083835b60208310151561175f578051825260208201915060208101905060208303925061173a565b6001836020036101000a038019825116818451168082178552505050505050905001807f7c0000000000000000000000000000000000000000000000000000000000000081525060010183805190602001908083835b6020831015156117da57805182526020820191506020810190506020830392506117b5565b6001836020036101000a038019825116818451168082178552505050505050905001807f7c0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b6020831015156118555780518252602082019150602081019050602083039250611830565b6001836020036101000a03801982511681845116808217855250505050505090500194505050505060405160208183030381529060405291505b50919050565b6060611ee56001856040518082805190602001908083835b6020831015156118d257805182526020820191506020810190506020830392506118ad565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020846040518082805190602001908083835b60208310151561193b5780518252602082019150602081019050602083039250611916565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020836040518082805190602001908083835b6020831015156119a4578051825260208201915060208101905060208303925061197f565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b82821015611edc57838290600052602060002090600c02016101806040519081016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611ab55780601f10611a8a57610100808354040283529160200191611ab5565b820191906000526020600020905b815481529060010190602001808311611a9857829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611b575780601f10611b2c57610100808354040283529160200191611b57565b820191906000526020600020905b815481529060010190602001808311611b3a57829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611bf95780601f10611bce57610100808354040283529160200191611bf9565b820191906000526020600020905b815481529060010190602001808311611bdc57829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611c9b5780601f10611c7057610100808354040283529160200191611c9b565b820191906000526020600020905b815481529060010190602001808311611c7e57829003601f168201915b50505050508152602001600482018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611d3d5780601f10611d1257610100808354040283529160200191611d3d565b820191906000526020600020905b815481529060010190602001808311611d2057829003601f168201915b50505050508152602001600582018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611ddf5780601f10611db457610100808354040283529160200191611ddf565b820191906000526020600020905b815481529060010190602001808311611dc257829003601f168201915b50505050508152602001600682018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611e815780601f10611e5657610100808354040283529160200191611e81565b820191906000526020600020905b815481529060010190602001808311611e6457829003601f168201915b50505050508152602001600782015481526020016008820154815260200160098201548152602001600a8201548152602001600b820160009054906101000a900460ff161515151581525050815260200190600101906119f7565b5050505061442f565b90509392505050565b60606005866040518082805190602001908083835b602083101515611f285780518252602082019150602081019050602083039250611f03565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b82821015612037578382906000526020600020018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156120235780601f10611ff857610100808354040283529160200191612023565b820191906000526020600020905b81548152906001019060200180831161200657829003601f168201915b505050505081526020019060010190611f7b565b50505050905060008151141561210057600460405190808252806020026020018201604052801561207c57816020015b60608152602001906001900390816120675790505b5090508481600081518110151561208f57fe5b90602001906020020181905250838160018151811015156120ac57fe5b906020019060200201819052506120c283614671565b8160028151811015156120d157fe5b90602001906020020181905250818160038151811015156120ee57fe5b906020019060200201819052506122d9565b61215881600081518110151561211257fe5b90602001906020020151866040805190810160405280600181526020017f3b000000000000000000000000000000000000000000000000000000000000008152506147c8565b81600081518110151561216757fe5b906020019060200201819052506121cc81600181518110151561218657fe5b90602001906020020151856040805190810160405280600181526020017f3b000000000000000000000000000000000000000000000000000000000000008152506147c8565b8160018151811015156121db57fe5b906020019060200201819052506122488160028151811015156121fa57fe5b9060200190602002015161220d85614671565b6040805190810160405280600181526020017f3b000000000000000000000000000000000000000000000000000000000000008152506147c8565b81600281518110151561225757fe5b906020019060200201819052506122bc81600381518110151561227657fe5b90602001906020020151836040805190810160405280600181526020017f3b000000000000000000000000000000000000000000000000000000000000008152506147c8565b8160038151811015156122cb57fe5b906020019060200201819052505b806005876040518082805190602001908083835b60208310151561231257805182526020820191506020810190506020830392506122ed565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902090805190602001906123589291906162d9565b50505050505050565b60606129486000846040518082805190602001908083835b60208310151561239e5780518252602082019150602081019050602083039250612379565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020836040518082805190602001908083835b60208310151561240757805182526020820191506020810190506020830392506123e2565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020805480602002602001604051908101604052809291908181526020016000905b8282101561293f57838290600052602060002090600c02016101806040519081016040529081600082018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156125185780601f106124ed57610100808354040283529160200191612518565b820191906000526020600020905b8154815290600101906020018083116124fb57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156125ba5780601f1061258f576101008083540402835291602001916125ba565b820191906000526020600020905b81548152906001019060200180831161259d57829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561265c5780601f106126315761010080835404028352916020019161265c565b820191906000526020600020905b81548152906001019060200180831161263f57829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156126fe5780601f106126d3576101008083540402835291602001916126fe565b820191906000526020600020905b8154815290600101906020018083116126e157829003601f168201915b50505050508152602001600482018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156127a05780601f10612775576101008083540402835291602001916127a0565b820191906000526020600020905b81548152906001019060200180831161278357829003601f168201915b50505050508152602001600582018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156128425780601f1061281757610100808354040283529160200191612842565b820191906000526020600020905b81548152906001019060200180831161282557829003601f168201915b50505050508152602001600682018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156128e45780601f106128b9576101008083540402835291602001916128e4565b820191906000526020600020905b8154815290600101906020018083116128c757829003601f168201915b50505050508152602001600782015481526020016008820154815260200160098201548152602001600a8201548152602001600b820160009054906101000a900460ff1615151515815250508152602001906001019061245a565b50505050614a4d565b905092915050565b606061295a6161cc565b61296383614cba565b905080610160015115156129895760206040519081016040528060008152509150612995565b612992816153f8565b91505b50919050565b60008060006002856040518082805190602001908083835b6020831015156129d857805182526020820191506020810190506020830392506129b3565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020846040518082805190602001908083835b602083101515612a415780518252602082019150602081019050602083039250612a1c565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060000154141515612c38576002846040518082805190602001908083835b602083101515612ab75780518252602082019150602081019050602083039250612a92565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020836040518082805190602001908083835b602083101515612b205780518252602082019150602081019050602083039250612afb565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600001546002856040518082805190602001908083835b602083101515612b8f5780518252602082019150602081019050602083039250612b6a565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020846040518082805190602001908083835b602083101515612bf85780518252602082019150602081019050602083039250612bd3565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390206001015491509150612c46565b600080819150809050915091505b9250929050565b60006003826040518082805190602001908083835b602083101515612c875780518252602082019150602081019050602083039250612c62565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060009054906101000a900460ff169050919050565b612cd76161cc565b612ce083612c4d565b1515612ceb57612d09565b612cf483614cba565b9050818160a00181905250612d08816159c4565b5b505050565b612d166161cc565b612d1f83612c4d565b1515612d2a57612d8b565b612d3383614cba565b9050612d798160c00151836040805190810160405280600181526020017f2c000000000000000000000000000000000000000000000000000000000000008152506147c8565b8160c00181905250612d8a816159c4565b5b505050565b6000806000808461010001519350600085602001516040518082805190602001908083835b602083101515612dda5780518252602082019150602081019050602083039250612db5565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902085600001516040518082805190602001908083835b602083101515612e475780518252602082019150602081019050602083039250612e22565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902092506000838054905010151561442857600091505b828054905082101561436b576000841415612ea95761436b565b60008383815481101515612eb957fe5b90600052602060002090600c0201600801541415612ed65761435e565b838383815481101515612ee557fe5b90600052602060002090600c0201600801541015156139355761313485608001518484815481101515612f1457fe5b90600052602060002090600c02016001018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015612fb95780601f10612f8e57610100808354040283529160200191612fb9565b820191906000526020600020905b815481529060010190602001808311612f9c57829003601f168201915b50505050508585815481101515612fcc57fe5b90600052602060002090600c02016003018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156130715780601f1061304657610100808354040283529160200191613071565b820191906000526020600020905b81548152906001019060200180831161305457829003601f168201915b505050505087878781548110151561308557fe5b90600052602060002090600c02016004018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561312a5780601f106130ff5761010080835404028352916020019161312a565b820191906000526020600020905b81548152906001019060200180831161310d57829003601f168201915b5050505050611eee565b83838381548110151561314357fe5b90600052602060002090600c02016008015403838381548110151561316457fe5b90600052602060002090600c0201600801819055506000838381548110151561318957fe5b90600052602060002090600c02016008015414156131c757600183838154811015156131b157fe5b90600052602060002090600c0201600901819055505b82828154811015156131d557fe5b90600052602060002090600c0201600086602001516040518082805190602001908083835b60208310151561321f57805182526020820191506020810190506020830392506131fa565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902086600001516040518082805190602001908083835b60208310151561328c5780518252602082019150602081019050602083039250613267565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020838154811015156132cc57fe5b90600052602060002090600c020160008201816000019080546001816001161561010002031660029004613301929190616339565b5060018201816001019080546001816001161561010002031660029004613329929190616339565b5060028201816002019080546001816001161561010002031660029004613351929190616339565b5060038201816003019080546001816001161561010002031660029004613379929190616339565b50600482018160040190805460018160011615610100020316600290046133a1929190616339565b50600582018160050190805460018160011615610100020316600290046133c9929190616339565b50600682018160060190805460018160011615610100020316600290046133f1929190616339565b50600782015481600701556008820154816008015560098201548160090155600a82015481600a0155600b820160009054906101000a900460ff1681600b0160006101000a81548160ff02191690831515021790555090505061392c838381548110151561345b57fe5b90600052602060002090600c02016101806040519081016040529081600082018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561350f5780601f106134e45761010080835404028352916020019161350f565b820191906000526020600020905b8154815290600101906020018083116134f257829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156135b15780601f10613586576101008083540402835291602001916135b1565b820191906000526020600020905b81548152906001019060200180831161359457829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156136535780601f1061362857610100808354040283529160200191613653565b820191906000526020600020905b81548152906001019060200180831161363657829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156136f55780601f106136ca576101008083540402835291602001916136f5565b820191906000526020600020905b8154815290600101906020018083116136d857829003601f168201915b50505050508152602001600482018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156137975780601f1061376c57610100808354040283529160200191613797565b820191906000526020600020905b81548152906001019060200180831161377a57829003601f168201915b50505050508152602001600582018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156138395780601f1061380e57610100808354040283529160200191613839565b820191906000526020600020905b81548152906001019060200180831161381c57829003601f168201915b50505050508152602001600682018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156138db5780601f106138b0576101008083540402835291602001916138db565b820191906000526020600020905b8154815290600101906020018083116138be57829003601f168201915b50505050508152602001600782015481526020016008820154815260200160098201548152602001600a8201548152602001600b820160009054906101000a900460ff1615151515815250506159c4565b6000935061436b565b828281548110151561394357fe5b90600052602060002090600c020160080154840393506000838381548110151561396957fe5b90600052602060002090600c0201600801819055506001838381548110151561398e57fe5b90600052602060002090600c02016009018190555082828154811015156139b157fe5b90600052602060002090600c0201600086602001516040518082805190602001908083835b6020831015156139fb57805182526020820191506020810190506020830392506139d6565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902086600001516040518082805190602001908083835b602083101515613a685780518252602082019150602081019050602083039250613a43565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902083815481101515613aa857fe5b90600052602060002090600c020160008201816000019080546001816001161561010002031660029004613add929190616339565b5060018201816001019080546001816001161561010002031660029004613b05929190616339565b5060028201816002019080546001816001161561010002031660029004613b2d929190616339565b5060038201816003019080546001816001161561010002031660029004613b55929190616339565b5060048201816004019080546001816001161561010002031660029004613b7d929190616339565b5060058201816005019080546001816001161561010002031660029004613ba5929190616339565b5060068201816006019080546001816001161561010002031660029004613bcd929190616339565b50600782015481600701556008820154816008015560098201548160090155600a82015481600a0155600b820160009054906101000a900460ff1681600b0160006101000a81548160ff021916908315150217905550905050613e7b85608001518484815481101515613c3c57fe5b90600052602060002090600c02016001018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015613ce15780601f10613cb657610100808354040283529160200191613ce1565b820191906000526020600020905b815481529060010190602001808311613cc457829003601f168201915b50505050508585815481101515613cf457fe5b90600052602060002090600c02016003018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015613d995780601f10613d6e57610100808354040283529160200191613d99565b820191906000526020600020905b815481529060010190602001808311613d7c57829003601f168201915b50505050508686815481101515613dac57fe5b90600052602060002090600c0201600701548787815481101515613dcc57fe5b90600052602060002090600c02016004018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015613e715780601f10613e4657610100808354040283529160200191613e71565b820191906000526020600020905b815481529060010190602001808311613e5457829003601f168201915b5050505050611eee565b61435d8383815481101515613e8c57fe5b90600052602060002090600c02016101806040519081016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015613f405780601f10613f1557610100808354040283529160200191613f40565b820191906000526020600020905b815481529060010190602001808311613f2357829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015613fe25780601f10613fb757610100808354040283529160200191613fe2565b820191906000526020600020905b815481529060010190602001808311613fc557829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156140845780601f1061405957610100808354040283529160200191614084565b820191906000526020600020905b81548152906001019060200180831161406757829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156141265780601f106140fb57610100808354040283529160200191614126565b820191906000526020600020905b81548152906001019060200180831161410957829003601f168201915b50505050508152602001600482018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156141c85780601f1061419d576101008083540402835291602001916141c8565b820191906000526020600020905b8154815290600101906020018083116141ab57829003601f168201915b50505050508152602001600582018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561426a5780601f1061423f5761010080835404028352916020019161426a565b820191906000526020600020905b81548152906001019060200180831161424d57829003601f168201915b50505050508152602001600682018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561430c5780601f106142e15761010080835404028352916020019161430c565b820191906000526020600020905b8154815290600101906020018083116142ef57829003601f168201915b50505050508152602001600782015481526020016008820154815260200160098201548152602001600a8201548152602001600b820160009054906101000a900460ff1615151515815250506159c4565b5b8180600101925050612e8f565b60008486610100015103118061438c57508461010001518486610100015103145b15614427578385610100015103905060008114156143e9576001856101200181815250506000856101000181815250506143c7856000615ccd565b6143e4856080015186602001518760600151878960800151611eee565b61441d565b83856101000181815250506143ff856000615ccd565b61441c856080015186602001518760600151848960800151611eee565b5b614426856159c4565b5b5b5050505050565b606080600060606000855111156146555760206040519081016040528060008152509250600091505b845182101561464d57614481858381518110151561447257fe5b906020019060200201516153f8565b90506040516020018060000190506040516020818303038152906040526040518082805190602001908083835b6020831015156144d357805182526020820191506020810190506020830392506144ae565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916816040516020018082805190602001908083835b60208310151561453d5780518252602082019150602081019050602083039250614518565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156145a65780518252602082019150602081019050602083039250614581565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019161415156146405761463d8361460287858151811015156145f357fe5b906020019060200201516153f8565b6040805190810160405280600181526020017f7c000000000000000000000000000000000000000000000000000000000000008152506147c8565b92505b8180600101925050614458565b829350614669565b602060405190810160405280600081525093505b505050919050565b606060008060606000808614156146bf576040805190810160405280600181526020017f300000000000000000000000000000000000000000000000000000000000000081525094506147bf565b8593505b6000841415156146e9578280600101935050600a848115156146e157fe5b0493506146c3565b826040519080825280601f01601f19166020018201604052801561471c5781602001602082028038833980820191505090505b5091506001830390505b6000861415156147bb57600a8681151561473c57fe5b066030017f01000000000000000000000000000000000000000000000000000000000000000282828060019003935081518110151561477757fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a868115156147b357fe5b049550614726565b8194505b50505050919050565b60606040516020018060000190506040516020818303038152906040526040518082805190602001908083835b60208310151561481a57805182526020820191506020810190506020830392506147f5565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916846040516020018082805190602001908083835b602083101515614884578051825260208201915060208101905060208303925061485f565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156148ed57805182526020820191506020810190506020830392506148c8565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916141561492c57829050614a46565b8382846040516020018084805190602001908083835b6020831015156149675780518252602082019150602081019050602083039250614942565b6001836020036101000a03801982511681845116808217855250505050505090500183805190602001908083835b6020831015156149ba5780518252602082019150602081019050602083039250614995565b6001836020036101000a03801982511681845116808217855250505050505090500182805190602001908083835b602083101515614a0d57805182526020820191506020810190506020830392506149e8565b6001836020036101000a038019825116818451168082178552505050505050905001935050505060405160208183030381529060405290505b9392505050565b60608060006060600085511115614c9e5760206040519081016040528060008152509250600091505b8451821015614c965760008583815181101515614a8f57fe5b9060200190602002015161010001511415614aa957614c89565b614ac98583815181101515614aba57fe5b906020019060200201516153f8565b90506040516020018060000190506040516020818303038152906040526040518082805190602001908083835b602083101515614b1b5780518252602082019150602081019050602083039250614af6565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916816040516020018082805190602001908083835b602083101515614b855780518252602082019150602081019050602083039250614b60565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515614bee5780518252602082019150602081019050602083039250614bc9565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916141515614c8857614c8583614c4a8785815181101515614c3b57fe5b906020019060200201516153f8565b6040805190810160405280600181526020017f7c000000000000000000000000000000000000000000000000000000000000008152506147c8565b92505b5b8180600101925050614a76565b829350614cb2565b602060405190810160405280600081525093505b505050919050565b614cc26161cc565b6000806003846040518082805190602001908083835b602083101515614cfd5780518252602082019150602081019050602083039250614cd8565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060009054906101000a900460ff161515614d49576153f1565b6004846040518082805190602001908083835b602083101515614d815780518252602082019150602081019050602083039250614d5c565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902091506001826000016040518082805460018160011615610100020316600290048015614e175780601f10614df5576101008083540402835291820191614e17565b820191906000526020600020905b815481529060010190602001808311614e03575b50509150509081526020016040518091039020826001016040518082805460018160011615610100020316600290048015614e895780601f10614e67576101008083540402835291820191614e89565b820191906000526020600020905b815481529060010190602001808311614e75575b50509150509081526020016040518091039020826002016040518082805460018160011615610100020316600290048015614efb5780601f10614ed9576101008083540402835291820191614efb565b820191906000526020600020905b815481529060010190602001808311614ee7575b505091505090815260200160405180910390208260030154815481101515614f1f57fe5b90600052602060002090600c02019050806101806040519081016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015614fd65780601f10614fab57610100808354040283529160200191614fd6565b820191906000526020600020905b815481529060010190602001808311614fb957829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156150785780601f1061504d57610100808354040283529160200191615078565b820191906000526020600020905b81548152906001019060200180831161505b57829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561511a5780601f106150ef5761010080835404028352916020019161511a565b820191906000526020600020905b8154815290600101906020018083116150fd57829003601f168201915b50505050508152602001600382018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156151bc5780601f10615191576101008083540402835291602001916151bc565b820191906000526020600020905b81548152906001019060200180831161519f57829003601f168201915b50505050508152602001600482018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561525e5780601f106152335761010080835404028352916020019161525e565b820191906000526020600020905b81548152906001019060200180831161524157829003601f168201915b50505050508152602001600582018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156153005780601f106152d557610100808354040283529160200191615300565b820191906000526020600020905b8154815290600101906020018083116152e357829003601f168201915b50505050508152602001600682018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156153a25780601f10615377576101008083540402835291602001916153a2565b820191906000526020600020905b81548152906001019060200180831161538557829003601f168201915b50505050508152602001600782015481526020016008820154815260200160098201548152602001600a8201548152602001600b820160009054906101000a900460ff16151515158152505092505b5050919050565b6060816101600151151561541e57602060405190810160405280600081525090506159bf565b816000015182602001518360400151846060015161543f8660e00151614671565b61544d876101000151614671565b87608001518860a001518960c0015161546a8b6101400151614671565b6154788c6101200151614671565b604051602001808c805190602001908083835b6020831015156154b0578051825260208201915060208101905060208303925061548b565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b000000000000000000000000000000000000000000000000000000000000008152506001018b805190602001908083835b60208310151561552b5780518252602082019150602081019050602083039250615506565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b000000000000000000000000000000000000000000000000000000000000008152506001018a805190602001908083835b6020831015156155a65780518252602082019150602081019050602083039250615581565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010189805190602001908083835b60208310151561562157805182526020820191506020810190506020830392506155fc565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010188805190602001908083835b60208310151561569c5780518252602082019150602081019050602083039250615677565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010187805190602001908083835b60208310151561571757805182526020820191506020810190506020830392506156f2565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010186805190602001908083835b602083101515615792578051825260208201915060208101905060208303925061576d565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010185805190602001908083835b60208310151561580d57805182526020820191506020810190506020830392506157e8565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010184805190602001908083835b6020831015156158885780518252602082019150602081019050602083039250615863565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010183805190602001908083835b60208310151561590357805182526020820191506020810190506020830392506158de565b6001836020036101000a038019825116818451168082178552505050505050905001807f3b0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b60208310151561597e5780518252602082019150602081019050602083039250615959565b6001836020036101000a0380198251168184511680821785525050505050509050019b50505050505050505050505060405160208183030381529060405290505b919050565b6000600482608001516040518082805190602001908083835b602083101515615a0257805182526020820191506020810190506020830392506159dd565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390209050816001826000016040518082805460018160011615610100020316600290048015615a995780601f10615a77576101008083540402835291820191615a99565b820191906000526020600020905b815481529060010190602001808311615a85575b50509150509081526020016040518091039020826001016040518082805460018160011615610100020316600290048015615b0b5780601f10615ae9576101008083540402835291820191615b0b565b820191906000526020600020905b815481529060010190602001808311615af7575b50509150509081526020016040518091039020826002016040518082805460018160011615610100020316600290048015615b7d5780601f10615b5b576101008083540402835291820191615b7d565b820191906000526020600020905b815481529060010190602001808311615b69575b505091505090815260200160405180910390208260030154815481101515615ba157fe5b90600052602060002090600c02016000820151816000019080519060200190615bcb929190616259565b506020820151816001019080519060200190615be8929190616259565b506040820151816002019080519060200190615c05929190616259565b506060820151816003019080519060200190615c22929190616259565b506080820151816004019080519060200190615c3f929190616259565b5060a0820151816005019080519060200190615c5c929190616259565b5060c0820151816006019080519060200190615c79929190616259565b5060e082015181600701556101008201518160080155610120820151816009015561014082015181600a015561016082015181600b0160006101000a81548160ff0219169083151502179055509050505050565b60008060008085600001516040518082805190602001908083835b602083101515615d0d5780518252602082019150602081019050602083039250615ce8565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902085602001516040518082805190602001908083835b602083101515615d7a5780518252602082019150602081019050602083039250615d55565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020925084608001516040516020018082805190602001908083835b602083101515615dec5780518252602082019150602081019050602083039250615dc7565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515615e555780518252602082019150602081019050602083039250615e30565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390209150600090505b82805490508110156161c5578281815481101515615ea357fe5b90600052602060002090600c02016004016040516020018082805460018160011615610100020316600290048015615f125780601f10615ef0576101008083540402835291820191615f12565b820191906000526020600020905b815481529060010190602001808311615efe575b50509150506040516020818303038152906040526040518082805190602001908083835b602083101515615f5b5780518252602082019150602081019050602083039250615f36565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916826000191614156161b85760008414156161b35784600086600001516040518082805190602001908083835b602083101515615fdd5780518252602082019150602081019050602083039250615fb8565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902086602001516040518082805190602001908083835b60208310151561604a5780518252602082019150602081019050602083039250616025565b6001836020036101000a03801982511681845116808217855250505050505090500191505090815260200160405180910390208281548110151561608a57fe5b90600052602060002090600c020160008201518160000190805190602001906160b4929190616259565b5060208201518160010190805190602001906160d1929190616259565b5060408201518160020190805190602001906160ee929190616259565b50606082015181600301908051906020019061610b929190616259565b506080820151816004019080519060200190616128929190616259565b5060a0820151816005019080519060200190616145929190616259565b5060c0820151816006019080519060200190616162929190616259565b5060e082015181600701556101008201518160080155610120820151816009015561014082015181600a015561016082015181600b0160006101000a81548160ff0219169083151502179055509050505b6161c5565b8080600101915050615e89565b5050505050565b6101806040519081016040528060608152602001606081526020016060815260200160608152602001606081526020016060815260200160608152602001600081526020016000815260200160008152602001600081526020016000151581525090565b608060405190810160405280606081526020016060815260200160608152602001600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061629a57805160ff19168380011785556162c8565b828001600101855582156162c8579182015b828111156162c75782518255916020019190600101906162ac565b5b5090506162d591906163c0565b5090565b828054828255906000526020600020908101928215616328579160200282015b82811115616327578251829080519060200190616317929190616259565b50916020019190600101906162f9565b5b50905061633591906163e5565b5090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061637257805485556163af565b828001600101855582156163af57600052602060002091601f016020900482015b828111156163ae578254825591600101919060010190616393565b5b5090506163bc91906163c0565b5090565b6163e291905b808211156163de5760008160009055506001016163c6565b5090565b90565b61640e91905b8082111561640a57600081816164019190616411565b506001016163eb565b5090565b90565b50805460018160011615610100020316600290046000825580601f106164375750616456565b601f01602090049060005260206000209081019061645591906163c0565b5b505600a165627a7a72305820e5d1c0c3580362803d62c4c8f6255fa5827eefdb07ed33bddd4b22ab5fd1bcc30029",
	// Permission master contract bytecode in genesis block, source code in kvm/smc/Permission.sol
	"0x00000000000000000000000000000000736D6336": "608060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806302f0697b1461007d57806331e51ad414610174578063430ae633146101fb5780634665cb0714610278578063813775a3146102f5578063d1b7623c14610418575b600080fd5b34801561008957600080fd5b5061015e600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803573ffffffffffffffffffffffffffffffffffffffff1690602001909291908035906020019092919080359060200190929190803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929050505061056b565b6040518082815260200191505060405180910390f35b34801561018057600080fd5b506101e5600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001909291905050506106dc565b6040518082815260200191505060405180910390f35b34801561020757600080fd5b50610262600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610811565b6040518082815260200191505060405180910390f35b34801561028457600080fd5b506102df600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610944565b6040518082815260200191505060405180910390f35b34801561030157600080fd5b5061035c600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610adf565b604051808573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200184815260200183815260200180602001828103825283818151815260200191508051906020019080838360005b838110156103da5780820151818401526020810190506103bf565b50505050905090810190601f1680156104075780820380516001836020036101000a031916815260200191505b509550505050505060405180910390f35b34801561042457600080fd5b5061044360048036038101908080359060200190929190505050610e90565b60405180806020018673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200180602001858152602001848152602001838103835288818151815260200191508051906020019080838360005b838110156104c55780820151818401526020810190506104aa565b50505050905090810190601f1680156104f25780820380516001836020036101000a031916815260200191505b50838103825286818151815260200191508051906020019080838360005b8381101561052b578082015181840152602081019050610510565b50505050905090810190601f1680156105585780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390f35b60006001151561057a33610f74565b151514151561058857600080fd5b60a0604051908101604052808673ffffffffffffffffffffffffffffffffffffffff168152602001848152602001858152602001600115158152602001838152506000876040518082805190602001908083835b60208310151561060157805182526020820191506020810190506020830392506105dc565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550602082015181600101556040820151816002015560608201518160030160006101000a81548160ff02191690831515021790555060808201518160040190805190602001906106cb929190612ab5565b509050506001905095945050505050565b60006106e88383611012565b156106f6576001905061080b565b600015156000846040518082805190602001908083835b602083101515610732578051825260208201915060208101905060208303925061070d565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060030160009054906101000a900460ff1615151415610787576000905061080b565b816000846040518082805190602001908083835b6020831015156107c0578051825260208201915060208101905060208303925061079b565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600201541415610806576001905061080b565b600090505b92915050565b600061081c82611045565b1561082a576001905061093f565b600015156000836040518082805190602001908083835b6020831015156108665780518252602082019150602081019050602083039250610841565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060030160009054906101000a900460ff16151514156108bb576000905061093f565b600080836040518082805190602001908083835b6020831015156108f457805182526020820191506020810190506020830392506108cf565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060010154141561093a576000905061093f565b600190505b919050565b60006001151561095333610f74565b151514151561096157600080fd5b601061096c83611070565b101561097b5760009050610ada565b600015156000836040518082805190602001908083835b6020831015156109b75780518252602082019150602081019050602083039250610992565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060030160009054906101000a900460ff1615151415610a0c5760009050610ada565b6000826040518082805190602001908083835b602083101515610a445780518252602082019150602081019050602083039250610a1f565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600080820160006101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055600182016000905560028201600090556003820160006101000a81549060ff0219169055600482016000610ad39190612b35565b5050600190505b919050565b600080600060606000610af186611070565b90506010811015610b5457610b04611272565b81815181101515610b1157fe5b9060200190602002015160646001610b276118af565b84815181101515610b3457fe5b906020019060200201518292508191508090509450945094509450610e88565b600015156000876040518082805190602001908083835b602083101515610b905780518252602082019150602081019050602083039250610b6b565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060030160009054906101000a900460ff1615151415610c0857600080600082925081915080905060206040519081016040528060008152509450945094509450610e88565b6000866040518082805190602001908083835b602083101515610c405780518252602082019150602081019050602083039250610c1b565b6001836020036101000a038019825116818451168082178552505050505050905001915050908152602001604051809103902060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff166000876040518082805190602001908083835b602083101515610ccf5780518252602082019150602081019050602083039250610caa565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600101546000886040518082805190602001908083835b602083101515610d3e5780518252602082019150602081019050602083039250610d19565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600201546000896040518082805190602001908083835b602083101515610dad5780518252602082019150602081019050602083039250610d88565b6001836020036101000a0380198251168184511680821785525050505050509050019150509081526020016040518091039020600401808054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610e785780601f10610e4d57610100808354040283529160200191610e78565b820191906000526020600020905b815481529060010190602001808311610e5b57829003601f168201915b5050505050905094509450945094505b509193509193565b6060600060606000806060601087101515610ee957600080600060206040519081016040528060008152509291908292506020604051908101604052806000815250919081915080905095509550955095509550610f6a565b610ef1611e11565b90508087815181101515610f0157fe5b90602001906020020151610f13611272565b88815181101515610f2057fe5b90602001906020020151610f326118af565b89815181101515610f3f57fe5b90602001906020020151610f51612aa3565b610f59612aac565b849450829250955095509550955095505b5091939590929450565b600060606000610f82611272565b9150600082511415610f97576000925061100b565b600090505b8151811015611006578373ffffffffffffffffffffffffffffffffffffffff168282815181101515610fca57fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff161415610ff9576001925061100b565b8080600101915050610f9c565b600092505b5050919050565b6000601061101f84611070565b10801561102c5750600182145b1561103a576001905061103f565b600090505b92915050565b60008061105183611070565b90506010811015611065576001915061106a565b600091505b50919050565b60006060600061107e611e11565b9150600090505b601081101561126657818181518110151561109c57fe5b906020019060200201516040516020018082805190602001908083835b6020831015156110de57805182526020820191506020810190506020830392506110b9565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156111475780518252602082019150602081019050602083039250611122565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916846040516020018082805190602001908083835b6020831015156111b1578051825260208201915060208101905060208303925061118c565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b60208310151561121a57805182526020820191506020810190506020830392506111f5565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191614156112595780925061126b565b8080600101915050611085565b601092505b5050919050565b60608060106040519080825280602002602001820160405280156112a55781602001602082028038833980820191505090505b50905073c1fe56e3f58d3244f606306611a5d10c8333f1f68160008151811015156112cc57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050737cefc13b6e2aedeedfb7cb6c32457240746baee581600181518110151561132c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073ff3dac4f04ddbd24de5d6039f90596f0a8bb08fd81600281518110151561138c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073071e8f5ddddd9f2d4b4bdf8fc970dfe8d9871c288160038151811015156113ec57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250507394fd535aab6c01302147be7819d07817647f7b6381600481518110151561144c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073a8073c95521a6db54f4b5ca31a04773b093e92748160058151811015156114ac57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073e94517a4f6f45e80cbaaffbb0b845f4c0fdd754781600681518110151561150c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073ba30505351c17f4c818d94a990eded95e166474b81600781518110151561156c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073212a83c0d7db5c526303f873d9ceaa32382b55d08160088151811015156115cc57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050738db7cf1823fcfa6e9e2063f983b3b96a48eed5a481600981518110151561162c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250507366bab3f68ff0822b7ba568a58a5cb619c4825ce581600a81518110151561168c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250507388e1b4289b639c3b7b97899be32627dcd3e81b7e81600b8151811015156116ec57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073ce61e95666737e46b2453717fe1ba0d9a85b9d3e81600c81518110151561174c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050731a5193e85ffa06fde42b2a2a6da7535ba510ae8c81600d8151811015156117ac57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505073b19bc4477ff32ec13872a2a827782dea8b6e92c081600e81518110151561180c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050730fffa18f6c90ce3f02691dc5ec954495ea48304681600f81518110151561186c57fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250508091505090565b60608060106040519080825280602002602001820160405280156118e757816020015b60608152602001906001900390816118d25790505b5090506040805190810160405280600981526020017f5b3a3a5d3a33303030000000000000000000000000000000000000000000000081525081600081518110151561192f57fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303031000000000000000000000000000000000000000000000081525081600181518110151561198157fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a3330303200000000000000000000000000000000000000000000008152508160028151811015156119d357fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030330000000000000000000000000000000000000000000000815250816003815181101515611a2557fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030340000000000000000000000000000000000000000000000815250816004815181101515611a7757fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030350000000000000000000000000000000000000000000000815250816005815181101515611ac957fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030360000000000000000000000000000000000000000000000815250816006815181101515611b1b57fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030370000000000000000000000000000000000000000000000815250816007815181101515611b6d57fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030380000000000000000000000000000000000000000000000815250816008815181101515611bbf57fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a333030390000000000000000000000000000000000000000000000815250816009815181101515611c1157fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303130000000000000000000000000000000000000000000000081525081600a815181101515611c6357fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303131000000000000000000000000000000000000000000000081525081600b815181101515611cb557fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303132000000000000000000000000000000000000000000000081525081600c815181101515611d0757fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303133000000000000000000000000000000000000000000000081525081600d815181101515611d5957fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303134000000000000000000000000000000000000000000000081525081600e815181101515611dab57fe5b906020019060200201819052506040805190810160405280600981526020017f5b3a3a5d3a33303135000000000000000000000000000000000000000000000081525081600f815181101515611dfd57fe5b906020019060200201819052508091505090565b6060806010604051908082528060200260200182016040528015611e4957816020015b6060815260200190600190039081611e345790505b50905060a060405190810160405280608081526020017f376138366532623736323863373666636165373661386233373032356362613681526020017f393861323839613434313032633563303231353934623563396663653333303781526020017f326565376566393932663565303138646334346239386661313166656335333881526020017f3234643739303135373437653861633437346634656531356237666265383630815250816000815181101515611f0457fe5b9060200190602002018190525060a060405190810160405280608081526020017f363630383839653339623337616465353866373839393333393534313233653581526020017f366436343938393836613063643963613633643232336538363664353532316181526020017f616564633965353239386532663438323861356339306634633538666232346581526020017f3139363133613436326361303231306464393632383231373934663633306630815250816001815181101515611fc957fe5b9060200190602002018190525060a060405190810160405280608081526020017f326536316635373230316563383034663964353239386334363635383434666481526020017f303737613235313663643333656363656134386637626466393364653531383281526020017f646134663537646337623464383837306535653239316331373963303566663081526020017f343130303731386234393138346636346137633064343063633636333433646181525081600281518110151561208e57fe5b9060200190602002018190525060a060405190810160405280608081526020017f666334316137316437613734643836363564626363306634386339613630316581526020017f333062373134656435303634373636396566353263303366373132336632616581526020017f303738646361613336333839653236333665313035356635663630666466333881526020017f643839613232366565383432333466303036623333336361643264326263656581525081600381518110151561215357fe5b9060200190602002018190525060a060405190810160405280608081526020017f656266343666616361373534666339303731366436363565366336666562323081526020017f366361343337633965356631363639306536393035313362333032393335303581526020017f336139643732326238386432616230623937326634363434386633613533333781526020017f386266356366653031623833373361663265353431393762313736313765316381525081600481518110151561221857fe5b9060200190602002018190525060a060405190810160405280608081526020017f383063346662663635313232643831376433383038616663623638336663363681526020017f643966396531396234373665613065653366373537646361356364313833313681526020017f656362383939396266656134653961356163633939363835303463623931393981526020017f39376135633161623632336335633533336362363632323931313439623061338152508160058151811015156122dd57fe5b9060200190602002018190525060a060405190810160405280608081526020017f356437656438313331393136623130656135343561353539616265343634333081526020017f373130396133643632646462653139633336383938386262646231646432333381526020017f306236663362626234373964306264643739656633363064376439313735303081526020017f38643930663764353131323239363932313037393365386137353263656364368152508160068151811015156123a257fe5b9060200190602002018190525060a060405190810160405280608081526020017f376563643465613162663465666133346461633431613136643763636431346581526020017f323364333939336464336630613534643732326565373664313730373138616481526020017f626137663234366330383262616461393232633837356666616161343631386581526020017f333037623638653434633238343764346634653362373637383834633032623781525081600781518110151561246757fe5b9060200190602002018190525060a060405190810160405280608081526020017f343835376637393265663737396335313166366437363433663039393134303981526020017f663737653431313234636564313433383532313735333536343133313566356481526020017f633939323765373330316666643761666337616538303235363633653137663581526020017f393333303661646637643366666163376336616136323563323530646530643581525081600881518110151561252c57fe5b9060200190602002018190525060a060405190810160405280608081526020017f616436376332353032666332373233663264636632356131343037343433383281526020017f656233653465353064376534646439313063343233663761613466653066626281526020017f636332323037643232656636656466343639646436666265613733656661386481526020017f38376234623837366130643665333836633465303062366135316332613366388152508160098151811015156125f157fe5b9060200190602002018190525060a060405190810160405280608081526020017f343336393262366637323337306133326162396663353437376163336435363081526020017f653435643239646230653665646332653139356363373438343362386661646681526020017f333235396535373834633438626634303031613935366235376334653836386681526020017f366438643339323038333935333030396461313134653338326236376233323681525081600a8151811015156126b657fe5b9060200190602002018190525060a060405190810160405280608081526020017f653337363636346431376661353564316239343036316364343836613666386481526020017f363432636634336666363366323535353734346466363638633835663836653781526020017f383162303236643633303035363464646532333465313964643639643261626581526020017f646331386135336462306436663165346134633162663362323766376438343881525081600b81518110151561277b57fe5b9060200190602002018190525060a060405190810160405280608081526020017f326332396632636536346463393066313533386264653032663636363636346181526020017f366331343833323537363038366130313961613636373261666238653632393981526020017f303636623963353963386335313165393063303862373831653230353164653681526020017f666566626465363032646437343562356463383531393732663361333435373481525081600c81518110151561284057fe5b9060200190602002018190525060a060405190810160405280608081526020017f373939326636356638323339326331306531323762386138343266613738613181526020017f336239366134646434346331356563373738663037373363393162643661393381526020017f313663393738663231353566653433646535636431633165663961666463353381526020017f316464333362393839333031323364363961343634306632623663393531643581525081600d81518110151561290557fe5b9060200190602002018190525060a060405190810160405280608081526020017f323734396436633331333665393365303661363865386262626263386236393681526020017f626266623634343136366434653431353564336262646432373136353533633281526020017f613331376137383262663263376166366662386135313030323865646234326581526020017f363230343539373335633361333237323035333438616461643361396434316681525081600e8151811015156129ca57fe5b9060200190602002018190525060a060405190810160405280608081526020017f336230376566343839396233343631656164343263646464373232333165353881526020017f656663313133383038636630636132313136643937373239616632623230383781526020017f303661656535366238663130303161323036633032663034313762613132366281526020017f396365343937363466313663366536376534333865323438356338643662613481525081600f815181101515612a8f57fe5b906020019060200201819052508091505090565b60006064905090565b60006001905090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10612af657805160ff1916838001178555612b24565b82800160010185558215612b24579182015b82811115612b23578251825591602001919060010190612b08565b5b509050612b319190612b7d565b5090565b50805460018160011615610100020316600290046000825580601f10612b5b5750612b7a565b601f016020900490600052602060002090810190612b799190612b7d565b5b50565b612b9f91905b80821115612b9b576000816000905550600101612b83565b5090565b905600a165627a7a723058200ee9ea5a1b362a59cf948533b011d86f57700d6dcc44a8df40e5ef8a7a11d90f0029",
	// Candidate contract bytecode for private chain in genesis block, source code in kvm/smc/permissioned/CandidateDB.sol
	// This contract should be moved to another config for private chain soon
	"0x00000000000000000000000000000000736d6337": "60806040526004361061008e576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063126d89ff146100935780631a83260c1461012357806332955d7014610218578063536bbec3146103315780638813ce1214610459578063b9da4af8146104e9578063cc5ef00914610598578063f406872214610628575b600080fd5b34801561009f57600080fd5b506100a861071d565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156100e85780820151818401526020810190506100cd565b50505050905090810190601f1680156101155780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561012f57600080fd5b50610216600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610bac565b005b34801561022457600080fd5b5061031560048036038101908080359060200190929190803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610d27565b604051808260ff1660ff16815260200191505060405180910390f35b34801561033d57600080fd5b506103de600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919291929050505061136d565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561041e578082015181840152602081019050610403565b50505050905090810190601f16801561044b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561046557600080fd5b5061046e61180f565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156104ae578082015181840152602081019050610493565b50505050905090810190601f1680156104db5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156104f557600080fd5b50610596600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050611c9e565b005b3480156105a457600080fd5b506105ad611dab565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156105ed5780820151818401526020810190506105d2565b50505050905090810190601f16801561061a5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561063457600080fd5b5061071b600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050612230565b005b60608060008060008054905014156107475760206040519081016040528060008152509250610ba7565b60206040519081016040528060008152509150600090505b600080549050811015610ba3576001151560008281548110151561077f57fe5b906000526020600020906006020160030160009054906101000a900460ff1615151415610b96576040516020018060000190506040516020818303038152906040526040518082805190602001908083835b6020831015156107f657805182526020820191506020810190506020830392506107d1565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916826040516020018082805190602001908083835b602083101515610860578051825260208201915060208101905060208303925061083b565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156108c957805182526020820191506020810190506020830392506108a4565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191614151561094357610940826040805190810160405280600181526020017f2c0000000000000000000000000000000000000000000000000000000000000081525061231d565b91505b610b9382610b8e60008481548110151561095957fe5b906000526020600020906006020160c06040519081016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610a0c5780601f106109e157610100808354040283529160200191610a0c565b820191906000526020600020905b8154815290600101906020018083116109ef57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610aae5780601f10610a8357610100808354040283529160200191610aae565b820191906000526020600020905b815481529060010190602001808311610a9157829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b505780601f10610b2557610100808354040283529160200191610b50565b820191906000526020600020905b815481529060010190602001808311610b3357829003601f168201915b505050505081526020016003820160009054906101000a900460ff1615151515815260200160048201548152602001600582015481525050846123e9565b61231d565b91505b808060010191505061075f565b8192505b505090565b7fe2df4c83eef1ab3c88f888395f79598f4f2b295eb4701a77c0278a2027392b3f83838360405180806020018060200180602001848103845287818151815260200191508051906020019080838360005b83811015610c18578082015181840152602081019050610bfd565b50505050905090810190601f168015610c455780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b83811015610c7e578082015181840152602081019050610c63565b50505050905090810190601f168015610cab5780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b83811015610ce4578082015181840152602081019050610cc9565b50505050905090810190601f168015610d115780820380516001836020036101000a031916815260200191505b50965050505050505060405180910390a1505050565b6000836040516020018082805190602001908083835b602083101515610d625780518252602082019150602081019050602083039250610d3d565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515610dcb5780518252602082019150602081019050602083039250610da6565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916600086815481101515610e0b57fe5b90600052602060002090600602016000016040516020018082805460018160011615610100020316600290048015610e7a5780601f10610e58576101008083540402835291820191610e7a565b820191906000526020600020905b815481529060010190602001808311610e66575b50509150506040516020818303038152906040526040518082805190602001908083835b602083101515610ec35780518252602082019150602081019050602083039250610e9e565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916141515610f045760009050611365565b600085815481101515610f1357fe5b906000526020600020906006020160030160009054906101000a900460ff1615610f405760009050611365565b816040516020018082805190602001908083835b602083101515610f795780518252602082019150602081019050602083039250610f54565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515610fe25780518252602082019150602081019050602083039250610fbd565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660008681548110151561102257fe5b906000526020600020906006020160010160405160200180828054600181600116156101000203166002900480156110915780601f1061106f576101008083540402835291820191611091565b820191906000526020600020905b81548152906001019060200180831161107d575b50509150506040516020818303038152906040526040518082805190602001908083835b6020831015156110da57805182526020820191506020810190506020830392506110b5565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191614151561111b5760009050611365565b600160008681548110151561112c57fe5b906000526020600020906006020160030160006101000a81548160ff0219169083151502179055508260008681548110151561116457fe5b90600052602060002090600602016002019080519060200190611188929190612cf3565b504360008681548110151561119957fe5b9060005260206000209060060201600501819055507f8621b9013be815a7c03fe9292e5009d853e9bfc6985fb0415eb3d92cde37f19a84846000888154811015156111e057fe5b906000526020600020906006020160010160405180806020018060200180602001848103845287818151815260200191508051906020019080838360005b8381101561123957808201518184015260208101905061121e565b50505050905090810190601f1680156112665780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b8381101561129f578082015181840152602081019050611284565b50505050905090810190601f1680156112cc5780820380516001836020036101000a031916815260200191505b5084810382528581815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561134e5780601f106113235761010080835404028352916020019161134e565b820191906000526020600020905b81548152906001019060200180831161133157829003601f168201915b5050965050505050505060405180910390a1600190505b949350505050565b606060008090505b6001805490508110156117f457836040516020018082805190602001908083835b6020831015156113bb5780518252602082019150602081019050602083039250611396565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b60208310151561142457805182526020820191506020810190506020830392506113ff565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660018281548110151561146457fe5b906000526020600020906005020160000160405160200180828054600181600116156101000203166002900480156114d35780601f106114b15761010080835404028352918201916114d3565b820191906000526020600020905b8154815290600101906020018083116114bf575b50509150506040516020818303038152906040526040518082805190602001908083835b60208310151561151c57805182526020820191506020810190506020830392506114f7565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019161480156117225750826040516020018082805190602001908083835b60208310151561158e5780518252602082019150602081019050602083039250611569565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831015156115f757805182526020820191506020810190506020830392506115d2565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405180910390206000191660018281548110151561163757fe5b906000526020600020906005020160010160405160200180828054600181600116156101000203166002900480156116a65780601f106116845761010080835404028352918201916116a6565b820191906000526020600020905b815481529060010190602001808311611692575b50509150506040516020818303038152906040526040518082805190602001908083835b6020831015156116ef57805182526020820191506020810190506020830392506116ca565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916145b156117e75760018181548110151561173657fe5b90600052602060002090600502016002018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156117db5780601f106117b0576101008083540402835291602001916117db565b820191906000526020600020905b8154815290600101906020018083116117be57829003601f168201915b50505050509150611808565b8080600101915050611375565b602060405190810160405280600081525091505b5092915050565b60608060008060008054905014156118395760206040519081016040528060008152509250611c99565b60206040519081016040528060008152509150600090505b600080549050811015611c95576040516020018060000190506040516020818303038152906040526040518082805190602001908083835b6020831015156118ae5780518252602082019150602081019050602083039250611889565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916826040516020018082805190602001908083835b60208310151561191857805182526020820191506020810190506020830392506118f3565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515611981578051825260208201915060208101905060208303925061195c565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040518091039020600019161415156119fb576119f8826040805190810160405280600181526020017f2c0000000000000000000000000000000000000000000000000000000000000081525061231d565b91505b60001515600082815481101515611a0e57fe5b906000526020600020906006020160030160009054906101000a900460ff1615151415611c8857611c8582611c80600084815481101515611a4b57fe5b906000526020600020906006020160c06040519081016040529081600082018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611afe5780601f10611ad357610100808354040283529160200191611afe565b820191906000526020600020905b815481529060010190602001808311611ae157829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611ba05780601f10611b7557610100808354040283529160200191611ba0565b820191906000526020600020905b815481529060010190602001808311611b8357829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015611c425780601f10611c1757610100808354040283529160200191611c42565b820191906000526020600020905b815481529060010190602001808311611c2557829003601f168201915b505050505081526020016003820160009054906101000a900460ff1615151515815260200160048201548152602001600582015481525050846123e9565b61231d565b91505b8080600101915050611851565b8192505b505090565b611ca6612d73565b60c0604051908101604052808481526020018381526020016020604051908101604052806000815250815260200160001515815260200143815260200160008152509050600081908060018154018082558091505090600182039060005260206000209060060201600090919290919091506000820151816000019080519060200190611d34929190612dac565b506020820151816001019080519060200190611d51929190612dac565b506040820151816002019080519060200190611d6e929190612dac565b5060608201518160030160006101000a81548160ff0219169083151502179055506080820151816004015560a08201518160050155505050505050565b6060806000806001805490501415611dd5576020604051908101604052806000815250925061222b565b60206040519081016040528060008152509150600090505b600180549050811015612227576040516020018060000190506040516020818303038152906040526040518082805190602001908083835b602083101515611e4a5780518252602082019150602081019050602083039250611e25565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916826040516020018082805190602001908083835b602083101515611eb45780518252602082019150602081019050602083039250611e8f565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083101515611f1d5780518252602082019150602081019050602083039250611ef8565b6001836020036101000a038019825116818451168082178552505050505050905001915050604051809103902060001916141515611f9757611f94826040805190810160405280600181526020017f2c0000000000000000000000000000000000000000000000000000000000000081525061231d565b91505b60011515600182815481101515611faa57fe5b906000526020600020906005020160030160009054906101000a900460ff161515141561221a5761221782612212600184815481101515611fe757fe5b906000526020600020906005020160a06040519081016040529081600082018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561209a5780601f1061206f5761010080835404028352916020019161209a565b820191906000526020600020905b81548152906001019060200180831161207d57829003601f168201915b50505050508152602001600182018054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561213c5780601f106121115761010080835404028352916020019161213c565b820191906000526020600020905b81548152906001019060200180831161211f57829003601f168201915b50505050508152602001600282018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156121de5780601f106121b3576101008083540402835291602001916121de565b820191906000526020600020905b8154815290600101906020018083116121c157829003601f168201915b505050505081526020016003820160009054906101000a900460ff161515151581526020016004820154815250508461290c565b61231d565b91505b8080600101915050611ded565b8192505b505090565b612238612e2c565b60a0604051908101604052808581526020018481526020018381526020016001151581526020014381525090506001819080600181540180825580915050906001820390600052602060002090600502016000909192909190915060008201518160000190805190602001906122af929190612dac565b5060208201518160010190805190602001906122cc929190612dac565b5060408201518160020190805190602001906122e9929190612dac565b5060608201518160030160006101000a81548160ff0219169083151502179055506080820151816004015550505050505050565b606082826040516020018083805190602001908083835b6020831015156123595780518252602082019150602081019050602083039250612334565b6001836020036101000a03801982511681845116808217855250505050505090500182805190602001908083835b6020831015156123ac5780518252602082019150602081019050602083039250612387565b6001836020036101000a03801982511681845116808217855250505050505090500192505050604051602081830303815290604052905092915050565b6060806123f583612b9c565b905083606001511561270a578084600001518560200151866040015161241e8860800151612b9c565b61242b8960a00151612b9c565b6040516020018087805190602001908083835b602083101515612463578051825260208201915060208101905060208303925061243e565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010186805190602001908083835b6020831015156124de57805182526020820191506020810190506020830392506124b9565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010185805190602001908083835b6020831015156125595780518252602082019150602081019050602083039250612534565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010184805190602001908083835b6020831015156125d457805182526020820191506020810190506020830392506125af565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010183805190602001908083835b60208310151561264f578051825260208201915060208101905060208303925061262a565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b6020831015156126ca57805182526020820191506020810190506020830392506126a5565b6001836020036101000a03801982511681845116808217855250505050505090500196505050505050506040516020818303038152906040529150612905565b80846000015185602001516127228760800151612b9c565b6040516020018085805190602001908083835b60208310151561275a5780518252602082019150602081019050602083039250612735565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010184805190602001908083835b6020831015156127d557805182526020820191506020810190506020830392506127b0565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010183805190602001908083835b602083101515612850578051825260208201915060208101905060208303925061282b565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b6020831015156128cb57805182526020820191506020810190506020830392506128a6565b6001836020036101000a03801982511681845116808217855250505050505090500194505050505060405160208183030381529060405291505b5092915050565b60608061291883612b9c565b9050808460000151856020015186604001516129378860800151612b9c565b6040516020018086805190602001908083835b60208310151561296f578051825260208201915060208101905060208303925061294a565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010185805190602001908083835b6020831015156129ea57805182526020820191506020810190506020830392506129c5565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010184805190602001908083835b602083101515612a655780518252602082019150602081019050602083039250612a40565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010183805190602001908083835b602083101515612ae05780518252602082019150602081019050602083039250612abb565b6001836020036101000a038019825116818451168082178552505050505050905001807f3a0000000000000000000000000000000000000000000000000000000000000081525060010182805190602001908083835b602083101515612b5b5780518252602082019150602081019050602083039250612b36565b6001836020036101000a0380198251168184511680821785525050505050509050019550505050505060405160208183030381529060405291505092915050565b60606000806060600080861415612bea576040805190810160405280600181526020017f30000000000000000000000000000000000000000000000000000000000000008152509450612cea565b8593505b600084141515612c14578280600101935050600a84811515612c0c57fe5b049350612bee565b826040519080825280601f01601f191660200182016040528015612c475781602001602082028038833980820191505090505b5091506001830390505b600086141515612ce657600a86811515612c6757fe5b066030017f010000000000000000000000000000000000000000000000000000000000000002828280600190039350815181101515612ca257fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a905350600a86811515612cde57fe5b049550612c51565b8194505b50505050919050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10612d3457805160ff1916838001178555612d62565b82800160010185558215612d62579182015b82811115612d61578251825591602001919060010190612d46565b5b509050612d6f9190612e5e565b5090565b60c06040519081016040528060608152602001606081526020016060815260200160001515815260200160008152602001600081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f10612ded57805160ff1916838001178555612e1b565b82800160010185558215612e1b579182015b82811115612e1a578251825591602001919060010190612dff565b5b509050612e289190612e5e565b5090565b60a060405190810160405280606081526020016060815260200160608152602001600015158152602001600081525090565b612e8091905b80821115612e7c576000816000905550600101612e64565b5090565b905600a165627a7a72305820e1c4d65e1920e9ecdbd117be10475145dbc886cbdac679dc7567918b26201a890029",
	// Candidate exchange contract bytecode for Kardia-private chain dual node, source code in kvm/smc/permissioned/CandidateExchange.sol
	"0x00000000000000000000000000000000736d6338": "60806040526004361061004c576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630e40683614610051578063912991d314610146575b600080fd5b34801561005d57600080fd5b50610144600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610281565b005b34801561015257600080fd5b5061027f600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091929192905050506103fc565b005b7f3ca643a7086eb63dfb0e5f2cec44808b9487badc9a643e9eaae2415149fb833c83838360405180806020018060200180602001848103845287818151815260200191508051906020019080838360005b838110156102ed5780820151818401526020810190506102d2565b50505050905090810190601f16801561031a5780820380516001836020036101000a031916815260200191505b50848103835286818151815260200191508051906020019080838360005b83811015610353578082015181840152602081019050610338565b50505050905090810190601f1680156103805780820380516001836020036101000a031916815260200191505b50848103825285818151815260200191508051906020019080838360005b838110156103b957808201518184015260208101905061039e565b50505050905090810190601f1680156103e65780820380516001836020036101000a031916815260200191505b50965050505050505060405180910390a1505050565b7f90affc9ed2543eb1fb9de02387ab117d255429f9f5c25458d725cc772bc7221f848484846040518080602001806020018060200180602001858103855289818151815260200191508051906020019080838360005b8381101561046d578082015181840152602081019050610452565b50505050905090810190601f16801561049a5780820380516001836020036101000a031916815260200191505b50858103845288818151815260200191508051906020019080838360005b838110156104d35780820151818401526020810190506104b8565b50505050905090810190601f1680156105005780820380516001836020036101000a031916815260200191505b50858103835287818151815260200191508051906020019080838360005b8381101561053957808201518184015260208101905061051e565b50505050905090810190601f1680156105665780820380516001836020036101000a031916815260200191505b50858103825286818151815260200191508051906020019080838360005b8381101561059f578082015181840152602081019050610584565b50505050905090810190601f1680156105cc5780820380516001836020036101000a031916815260200191505b509850505050505050505060405180910390a1505050505600a165627a7a72305820aaf69639545c4279771ad00169e14a25b6d1d929396974fc4d1fa08cf2af26440029",
}

// abi for contract in genesis block
var GenesisContractAbis = map[string]string{
	// This is abi for counter contract
	"0x00000000000000000000000000000000736d6331": `[
		{"constant": false,"inputs": [{"name": "x","type": "uint8"}],"name": "set","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": true,"inputs": [],"name": "get","outputs": [{"name": "","type": "uint8"}],"payable": false,"stateMutability": "view","type": "function"}
	]`,
	// This is abi for simple voting contract
	"0x00000000000000000000000000000000736d6332": `[
		{"constant": true,"inputs": [{"name": "toProposal","type": "uint8"}],"name": "getVote","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": true,"inputs": [],"name": "winningProposal","outputs": [{"name": "_winningProposal","type": "uint8"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": false,"inputs": [{"name": "toProposal","type": "uint8"}],"name": "vote","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"}
	]`,
	// This is abi for master exchange contract
	"0x00000000000000000000000000000000736d6333": `[
		{"constant":true,"inputs":[],"name":"getNeoToSend","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},
		{"constant":false,"inputs":[{"name":"neo","type":"uint256"}],"name":"removeNeo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},
		{"constant":true,"inputs":[],"name":"totalEth","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},
		{"constant":false,"inputs":[{"name":"eth","type":"uint256"}],"name":"removeEth","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},
		{"constant":true,"inputs":[],"name":"totalNeo","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},
		{"constant":false,"inputs":[{"name":"neo","type":"uint256"}],"name":"matchNeo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},
		{"constant":false,"inputs":[{"name":"eth","type":"uint256"}],"name":"matchEth","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},
		{"constant":true,"inputs":[],"name":"getEthToSend","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}
	]`,
	"0x00000000000000000000000000000000736D6339": `[
	{
		"constant": false,
		"inputs": [
			{
				"name": "fromType",
				"type": "string"
			},
			{
				"name": "toType",
				"type": "string"
			},
			{
				"name": "fromAddress",
				"type": "string"
			},
			{
				"name": "receiver",
				"type": "string"
			},
			{
				"name": "txid",
				"type": "string"
			},
			{
				"name": "amount",
				"type": "uint256"
			},
			{
				"name": "timestamp",
				"type": "uint256"
			}
		],
		"name": "addOrder",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "fromType",
				"type": "string"
			},
			{
				"name": "toType",
				"type": "string"
			},
			{
				"name": "fromAmount",
				"type": "uint256"
			},
			{
				"name": "receivedAmount",
				"type": "uint256"
			}
		],
		"name": "updateRate",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "txid",
				"type": "string"
			}
		],
		"name": "getMatchingResult",
		"outputs": [
			{
				"name": "results",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "_address",
				"type": "string"
			},
			{
				"name": "fromType",
				"type": "string"
			},
			{
				"name": "toType",
				"type": "string"
			}
		],
		"name": "getAllOrders",
		"outputs": [
			{
				"name": "orders",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "txid",
				"type": "string"
			},
			{
				"name": "toType",
				"type": "string"
			},
			{
				"name": "_address",
				"type": "string"
			},
			{
				"name": "amount",
				"type": "uint256"
			},
			{
				"name": "_tx",
				"type": "string"
			}
		],
		"name": "updateMatchingResult",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "fromType",
				"type": "string"
			},
			{
				"name": "toType",
				"type": "string"
			}
		],
		"name": "getPendingOrders",
		"outputs": [
			{
				"name": "orders",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "txId",
				"type": "string"
			}
		],
		"name": "getOrderByTxIdPublic",
		"outputs": [
			{
				"name": "strOrder",
				"type": "string"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "fromType",
				"type": "string"
			},
			{
				"name": "toType",
				"type": "string"
			}
		],
		"name": "getRate",
		"outputs": [
			{
				"name": "fromAmount",
				"type": "uint256"
			},
			{
				"name": "receivedAmount",
				"type": "uint256"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": true,
		"inputs": [
			{
				"name": "txId",
				"type": "string"
			}
		],
		"name": "hasTxId",
		"outputs": [
			{
				"name": "",
				"type": "bool"
			}
		],
		"payable": false,
		"stateMutability": "view",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "txId",
				"type": "string"
			},
			{
				"name": "kardiaTxId",
				"type": "string"
			}
		],
		"name": "updateKardiaTx",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"constant": false,
		"inputs": [
			{
				"name": "txId",
				"type": "string"
			},
			{
				"name": "targetTxId",
				"type": "string"
			}
		],
		"name": "updateTargetTx",
		"outputs": [],
		"payable": false,
		"stateMutability": "nonpayable",
		"type": "function"
	}
]`,
	"0x00000000000000000000000000000000736D6336": `[
		{"constant": true,"inputs": [{"name": "_pubkey","type": "string"},{"name": "_nodeType","type": "uint256"}],
	"name": "isValidNode","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "view",
	"type": "function"},
		{"constant": true,"inputs": [{"name": "_pubkey","type": "string"}],"name": "isValidator","outputs": [{"name": "",
	"type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": true,"inputs": [{"name": "_pubkey","type": "string"}],"name": "getNodeInfo","outputs": [{"name": "addr",
	"type": "address"},{"name": "votingPower","type": "uint256"},{"name": "nodeType","type": "uint256"}, {"name": "listenAddress","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": false,"inputs": [{"name": "_pubkey","type": "string"},{"name": "_addr","type": "address"},{"name": "_nodeType",
	"type": "uint256"},{"name": "_votingPower","type": "uint256"},{"name": "listenAddress","type": "string"}],"name": "addNode","outputs": [{"name": "","type": "uint256"}],
	"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": false,"inputs": [{"name": "_pubkey","type": "string"}],"name": "removeNode","outputs": [{"name": "","type": "uint256"}],"payable": false,"stateMutability": "nonpayable","type": "function"
	},
		{"constant": true,"inputs": [{"name": "index","type": "uint256"}],"name": "getInitialNodeByIndex","outputs": [{"name": "publickey","type": "string"},{"name": "addr","type": "address"},{"name": "listenAddr","type": "string"},{"name": "votingPower","type": "uint256"},{"name": "nodeType","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"}
	]`,
	// Abi for private chain candidate contract to manage candidate data
	"0x00000000000000000000000000000000736D6337": `[
		{"constant": true,"inputs": [],"name": "getCompletedRequests","outputs": [{"name": "requestList","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": false,"inputs": [{"name": "_email","type": "string"},{"name": "_fromOrgId","type": "string"},{"name": "_toOrgId","type": "string"}],"name": "requestCandidateInfo","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": false,"inputs": [{"name": "_requestID","type": "uint256"},{"name": "_email","type": "string"},{"name": "_content","type": "string"},{"name": "_toOrgId","type": "string"}],"name": "completeRequest","outputs": [{"name": "","type": "uint8"}],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": true,"inputs": [{"name": "_email","type": "string"},{"name": "_fromOrgId","type": "string"}],"name": "getExternalResponse","outputs": [{"name": "content","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": true,"inputs": [],"name": "getRequests","outputs": [{"name": "requestList","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": false,"inputs": [{"name": "email","type": "string"},{"name": "fromOrgId","type": "string"}],"name": "addRequest","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": true,"inputs": [],"name": "getResponses","outputs": [{"name": "responseList","type": "string"}],"payable": false,"stateMutability": "view","type": "function"},
		{"constant": false,"inputs": [{"name": "_email","type": "string"},{"name": "_fromOrgId","type": "string"},{"name": "_content","type": "string"}],"name": "addExternalResponse","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"anonymous": false,"inputs": [{"indexed": false,"name": "email","type": "string"},{"indexed": false,"name": "fromOrgId","type": "string"},{"indexed": false,"name": "toOrgId","type": "string"}],"name": "ExternalCandidateInfoRequested","type": "event"},
		{"anonymous": false,"inputs": [{"indexed": false,"name": "email","type": "string"},{"indexed": false,"name": "answer","type": "string"},{"indexed": false,"name": "toOrgId","type": "string"}],"name": "RequestCompleted","type": "event"}]`,
	// Abi for Kardia contract to exchange candidate data between private chain
	"0x00000000000000000000000000000000736D6338": `[
		{"constant": false,"inputs": [{"name": "_email","type": "string"},{"name": "_fromOrgID","type": "string"},{"name": "_toOrgID","type": "string"}],"name": "forwardRequest","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"constant": false,"inputs": [{"name": "_email","type": "string"},{"name": "_response","type": "string"},{"name": "_fromOrgID","type": "string"},{"name": "_toOrgID","type": "string"}],"name": "forwardResponse","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},
		{"anonymous": false,"inputs": [{"indexed": false,"name": "email","type": "string"},{"indexed": false,"name": "fromOrgID","type": "string"},{"indexed": false,"name": "toOrgID","type": "string"}],"name": "IncomingRequest","type": "event"},
		{"anonymous": false,"inputs": [{"indexed": false,"name": "email","type": "string"},{"indexed": false,"name": "name","type": "string"},{"indexed": false,"name": "age","type": "uint8"},{"indexed": false,"name": "addr","type": "address"},{"indexed": false,"name": "source","type": "string"},{"indexed": false,"name": "fromOrgID","type": "string"},{"indexed": false,"name": "toOrgID","type": "string"}],"name": "FulfilledRequest","type": "event"}]`,
}

func GetContractAddressAt(index int) common.Address {
	if index >= len(GenesisContractAddress) {
		return common.Address{}
	}
	return common.HexToAddress(GenesisContractAddress[index])
}

func GetContractAbiByAddress(address string) string {
	// log.Info("Getting abi for address",  "address", address)
	for add, abi := range GenesisContractAbis {
		if strings.EqualFold(add, address) {
			return abi
		}
	}
	panic("abi not found")
}

func GetContractDetailsByIndex(index int) (common.Address, string) {
	address := GetContractAddressAt(index)
	if address.Equal(common.Address{}) {
		return address, ""
	}
	return address, GetContractAbiByAddress(address.String())
}
